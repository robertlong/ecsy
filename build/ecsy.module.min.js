function getName(e){return e.name}function componentPropertyName(e){return getName(e)}function queryKey(e){for(var t=[],n=0;n<e.length;n++){var s=e[n];if("object"==typeof s){var o="not"===s.operator?"!":s.operator;t.push(o+getName(s.Component))}else t.push(getName(s))}return t.sort().join("-")}const hasWindow="undefined"!=typeof window,now=hasWindow&&void 0!==window.performance?performance.now.bind(performance):Date.now.bind(Date);class EventDispatcher{constructor(){this._listeners={},this.stats={fired:0,handled:0}}addEventListener(e,t){let n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){return void 0!==this._listeners[e]&&-1!==this._listeners[e].indexOf(t)}removeEventListener(e,t){var n=this._listeners[e];if(void 0!==n){var s=n.indexOf(t);-1!==s&&n.splice(s,1)}}dispatchEvent(e,t,n){this.stats.fired++;var s=this._listeners[e];if(void 0!==s)for(var o=s.slice(0),i=0;i<o.length;i++)o[i].call(this,t,n)}resetCounters(){this.stats.fired=this.stats.handled=0}}class Query{constructor(e,t){if(this.Components=[],this.NotComponents=[],e.forEach(e=>{"object"==typeof e?this.NotComponents.push(e.Component):this.Components.push(e)}),0===this.Components.length)throw new Error("Can't create a query without components");this.entities=[],this.eventDispatcher=new EventDispatcher,this.reactive=!1,this.key=queryKey(e);for(var n=0;n<t._entities.length;n++){var s=t._entities[n];this.match(s)&&(s.queries.push(this),this.entities.push(s))}}addEntity(e){e.queries.push(this),this.entities.push(e),this.eventDispatcher.dispatchEvent(Query.prototype.ENTITY_ADDED,e)}removeEntity(e){let t=this.entities.indexOf(e);~t&&(this.entities.splice(t,1),t=e.queries.indexOf(this),e.queries.splice(t,1),this.eventDispatcher.dispatchEvent(Query.prototype.ENTITY_REMOVED,e))}match(e){return e.hasAllComponents(this.Components)&&!e.hasAnyComponents(this.NotComponents)}toJSON(){return{key:this.key,reactive:this.reactive,components:{included:this.Components.map(e=>e.name),not:this.NotComponents.map(e=>e.name)},numEntities:this.entities.length}}stats(){return{numComponents:this.Components.length,numEntities:this.entities.length}}}Query.prototype.ENTITY_ADDED="Query#ENTITY_ADDED",Query.prototype.ENTITY_REMOVED="Query#ENTITY_REMOVED",Query.prototype.COMPONENT_CHANGED="Query#COMPONENT_CHANGED";class System{canExecute(){if(0===this._mandatoryQueries.length)return!0;for(let e=0;e<this._mandatoryQueries.length;e++){if(0===this._mandatoryQueries[e].entities.length)return!1}return!0}constructor(e,t){if(this.world=e,this.enabled=!0,this._queries={},this.queries={},this.priority=0,this.executeTime=0,t&&t.priority&&(this.priority=t.priority),this._mandatoryQueries=[],this.initialized=!0,this.constructor.queries)for(var n in this.constructor.queries){var s=this.constructor.queries[n],o=s.components;if(!o||0===o.length)throw new Error("'components' attribute can't be empty in a query");var i=this.world.entityManager.queryComponents(o);this._queries[n]=i,!0===s.mandatory&&this._mandatoryQueries.push(i),this.queries[n]={results:i.entities};var r=["added","removed","changed"];const e={added:Query.prototype.ENTITY_ADDED,removed:Query.prototype.ENTITY_REMOVED,changed:Query.prototype.COMPONENT_CHANGED};s.listen&&r.forEach(t=>{if(this.execute||console.warn(`System '${this.constructor.name}' has defined listen events (${r.join(", ")}) for query '${n}' but it does not implement the 'execute' method.`),s.listen[t]){let o=s.listen[t];if("changed"===t){if(i.reactive=!0,!0===o){let e=this.queries[n][t]=[];i.eventDispatcher.addEventListener(Query.prototype.COMPONENT_CHANGED,t=>{-1===e.indexOf(t)&&e.push(t)})}else if(Array.isArray(o)){let e=this.queries[n][t]=[];i.eventDispatcher.addEventListener(Query.prototype.COMPONENT_CHANGED,(t,n)=>{-1!==o.indexOf(n.constructor)&&-1===e.indexOf(t)&&e.push(t)})}}else{let s=this.queries[n][t]=[];i.eventDispatcher.addEventListener(e[t],e=>{-1===s.indexOf(e)&&s.push(e)})}}})}}stop(){this.executeTime=0,this.enabled=!1}play(){this.enabled=!0}clearEvents(){for(let t in this.queries){var e=this.queries[t];if(e.added&&(e.added.length=0),e.removed&&(e.removed.length=0),e.changed)if(Array.isArray(e.changed))e.changed.length=0;else for(let t in e.changed)e.changed[t].length=0}}toJSON(){var e={name:this.constructor.name,enabled:this.enabled,executeTime:this.executeTime,priority:this.priority,queries:{}};if(this.constructor.queries){var t=this.constructor.queries;for(let n in t){let s=this.queries[n],o=t[n],i=e.queries[n]={key:this._queries[n].key};if(i.mandatory=!0===o.mandatory,i.reactive=o.listen&&(!0===o.listen.added||!0===o.listen.removed||!0===o.listen.changed||Array.isArray(o.listen.changed)),i.reactive){i.listen={},["added","removed","changed"].forEach(e=>{s[e]&&(i.listen[e]={entities:s[e].length})})}}}return e}}function Not(e){return{operator:"not",Component:e}}class SystemManager{constructor(e){this._systems=[],this._executeSystems=[],this.world=e,this.lastExecutedSystem=null}registerSystem(e,t){if(!(e.prototype instanceof System))throw new Error(`System '${e.name}' does not extends 'System' class`);if(void 0!==this.getSystem(e))return console.warn(`System '${e.name}' already registered.`),this;var n=new e(this.world,t);return n.init&&n.init(t),n.order=this._systems.length,this._systems.push(n),n.execute&&(this._executeSystems.push(n),this.sortSystems()),this}unregisterSystem(e){let t=this.getSystem(e);return void 0===t?(console.warn(`Can unregister system '${e.name}'. It doesn't exist.`),this):(this._systems.splice(this._systems.indexOf(t),1),t.execute&&this._executeSystems.splice(this._executeSystems.indexOf(t),1),this)}sortSystems(){this._executeSystems.sort((e,t)=>e.priority-t.priority||e.order-t.order)}getSystem(e){return this._systems.find(t=>t instanceof e)}getSystems(){return this._systems}removeSystem(e){var t=this._systems.indexOf(e);~t&&this._systems.splice(t,1)}executeSystem(e,t,n){if(e.initialized&&e.canExecute()){let s=now();e.execute(t,n),e.executeTime=now()-s,this.lastExecutedSystem=e,e.clearEvents()}}stop(){this._executeSystems.forEach(e=>e.stop())}execute(e,t,n){this._executeSystems.forEach(s=>(n||s.enabled)&&this.executeSystem(s,e,t))}stats(){for(var e={numSystems:this._systems.length,systems:{}},t=0;t<this._systems.length;t++){var n=this._systems[t],s=e.systems[n.constructor.name]={queries:{},executeTime:n.executeTime};for(var o in n.ctx)s.queries[o]=n.ctx[o].stats()}return e}}class ObjectPool{constructor(e,t){this.freeList=[],this.count=0,this.T=e,this.isObjectPool=!0;var n=null;arguments.length>1&&(n=Array.prototype.slice.call(arguments)).shift(),this.createElement=n?()=>new e(...n):()=>new e,void 0!==t&&this.expand(t)}acquire(){return this.freeList.length<=0&&this.expand(Math.round(.2*this.count)+1),this.freeList.pop()}release(e){e.reset(),this.freeList.push(e)}expand(e){for(var t=0;t<e;t++)this.freeList.push(this.createElement());this.count+=e}totalSize(){return this.count}totalFree(){return this.freeList.length}totalUsed(){return this.count-this.freeList.length}}class QueryManager{constructor(e){this._world=e,this._queries={}}onEntityRemoved(e){for(var t in this._queries){var n=this._queries[t];-1!==e.queries.indexOf(n)&&n.removeEntity(e)}}onEntityComponentAdded(e,t){for(var n in this._queries){var s=this._queries[n];~s.NotComponents.indexOf(t)&&~s.entities.indexOf(e)?s.removeEntity(e):~s.Components.indexOf(t)&&s.match(e)&&!~s.entities.indexOf(e)&&s.addEntity(e)}}onEntityComponentRemoved(e,t){for(var n in this._queries){var s=this._queries[n];~s.NotComponents.indexOf(t)&&!~s.entities.indexOf(e)&&s.match(e)?s.addEntity(e):~s.Components.indexOf(t)&&~s.entities.indexOf(e)&&!s.match(e)&&s.removeEntity(e)}}getQuery(e){var t=queryKey(e),n=this._queries[t];return n||(this._queries[t]=n=new Query(e,this._world)),n}stats(){var e={};for(var t in this._queries)e[t]=this._queries[t].stats();return e}}class SystemStateComponent{}SystemStateComponent.isSystemStateComponent=!0;class EntityManager{constructor(e){this.world=e,this.componentsManager=e.componentsManager,this._entities=[],this._entitiesByNames={},this._queryManager=new QueryManager(this),this.eventDispatcher=new EventDispatcher,this._entityPool=new ObjectPool(this.world.options.entityClass,this.world.options.entityPoolSize),this.entitiesWithComponentsToRemove=[],this.entitiesToRemove=[],this.deferredRemovalEnabled=!0}getEntityByName(e){return this._entitiesByNames[e]}createEntity(e){var t=this._entityPool.acquire();return t.alive=!0,t.name=e||"",e&&(this._entitiesByNames[e]?console.warn(`Entity name '${e}' already exist`):this._entitiesByNames[e]=t),t._world=this,this._entities.push(t),this.eventDispatcher.dispatchEvent(ENTITY_CREATED,t),t}entityAddComponent(e,t,n){if(~e._ComponentTypes.indexOf(t))console.warn("Component type already exists on entity.",e,t.name);else{e._ComponentTypes.push(t),t.__proto__===SystemStateComponent&&e.numStateComponents++;var s=this.world.componentsManager.getComponentsPool(t).acquire();if(e._components[t.name]=s,n)if(s.copy)s.copy(n);else for(var o in n)s[o]=n[o];this._queryManager.onEntityComponentAdded(e,t),this.world.componentsManager.componentAddedToEntity(t),this.eventDispatcher.dispatchEvent(COMPONENT_ADDED,e,t)}}entityRemoveComponent(e,t,n){var s=e._ComponentTypes.indexOf(t);if(~s){if(this.eventDispatcher.dispatchEvent(COMPONENT_REMOVE,e,t),n)this._entityRemoveComponentSync(e,t,s);else{0===e._ComponentTypesToRemove.length&&this.entitiesWithComponentsToRemove.push(e),e._ComponentTypes.splice(s,1),e._ComponentTypesToRemove.push(t);var o=getName(t);e._componentsToRemove[o]=e._components[o],delete e._components[o]}this._queryManager.onEntityComponentRemoved(e,t),t.__proto__===SystemStateComponent&&(e.numStateComponents--,0!==e.numStateComponents||e.alive||e.remove())}}_entityRemoveComponentSync(e,t,n){e._ComponentTypes.splice(n,1);var s=componentPropertyName(t),o=getName(t),i=e._components[o];delete e._components[o],this.componentsManager._componentPool[s].release(i),this.world.componentsManager.componentRemovedFromEntity(t)}entityRemoveAllComponents(e,t){let n=e._ComponentTypes;for(let s=n.length-1;s>=0;s--)n[s].__proto__!==SystemStateComponent&&this.entityRemoveComponent(e,n[s],t)}removeEntity(e,t){var n=this._entities.indexOf(e);if(!~n)throw new Error("Tried to remove entity not in list");e.alive=!1,0===e.numStateComponents&&(this.eventDispatcher.dispatchEvent(ENTITY_REMOVED,e),this._queryManager.onEntityRemoved(e),!0===t?this._releaseEntity(e,n):this.entitiesToRemove.push(e)),this.entityRemoveAllComponents(e,t)}_releaseEntity(e,t){this._entities.splice(t,1),this._entitiesByNames[e.name]&&delete this._entitiesByNames[e.name],e._world=null,this._entityPool.release(e)}removeAllEntities(){for(var e=this._entities.length-1;e>=0;e--)this.removeEntity(this._entities[e])}processDeferredRemoval(){if(this.deferredRemovalEnabled){for(let e=0;e<this.entitiesToRemove.length;e++){let t=this.entitiesToRemove[e],n=this._entities.indexOf(t);this._releaseEntity(t,n)}this.entitiesToRemove.length=0;for(let s=0;s<this.entitiesWithComponentsToRemove.length;s++){let o=this.entitiesWithComponentsToRemove[s];for(;o._ComponentTypesToRemove.length>0;){let s=o._ComponentTypesToRemove.pop();var e=componentPropertyName(s),t=getName(s),n=o._componentsToRemove[t];delete o._componentsToRemove[t],this.componentsManager._componentPool[e].release(n),this.world.componentsManager.componentRemovedFromEntity(s)}}this.entitiesWithComponentsToRemove.length=0}}queryComponents(e){return this._queryManager.getQuery(e)}count(){return this._entities.length}stats(){var e={numEntities:this._entities.length,numQueries:Object.keys(this._queryManager._queries).length,queries:this._queryManager.stats(),numComponentPool:Object.keys(this.componentsManager._componentPool).length,componentPool:{},eventDispatcher:this.eventDispatcher.stats};for(var t in this.componentsManager._componentPool){var n=this.componentsManager._componentPool[t];e.componentPool[t]={used:n.totalUsed(),size:n.count}}return e}}const ENTITY_CREATED="EntityManager#ENTITY_CREATE",ENTITY_REMOVED="EntityManager#ENTITY_REMOVED",COMPONENT_ADDED="EntityManager#COMPONENT_ADDED",COMPONENT_REMOVE="EntityManager#COMPONENT_REMOVE";class DummyObjectPool{constructor(e){this.isDummyObjectPool=!0,this.count=0,this.used=0,this.T=e}acquire(){return this.used++,this.count++,new this.T}release(){this.used--}totalSize(){return this.count}totalFree(){return 1/0}totalUsed(){return this.used}}class ComponentManager{constructor(){this.Components={},this._componentPool={},this.numComponents={}}registerComponent(e){this.Components[e.name]?console.warn(`Component type: '${e.name}' already registered.`):(this.Components[e.name]=e,this.numComponents[e.name]=0)}componentAddedToEntity(e){this.Components[e.name]||this.registerComponent(e),this.numComponents[e.name]++}componentRemovedFromEntity(e){this.numComponents[e.name]--}getComponentsPool(e){var t=componentPropertyName(e);return this._componentPool[t]||(e.prototype.reset?this._componentPool[t]=new ObjectPool(e):(console.warn(`Component '${e.name}' won't benefit from pooling because 'reset' method was not implemented.`),this._componentPool[t]=new DummyObjectPool(e))),this._componentPool[t]}}var name="test-ecsy-build",version="0.2.11",description="Entity Component System in JS",main="lib/index.js",module="src/index.js",types="src/index.d.ts",scripts={build:"rollup -c && npm run docs && npm run build:cjs","build:cjs":"rimraf lib && babel src -d lib",docs:"cp README.md site/docs/README.md && rimraf site/docs/api/_sidebar.md; typedoc --readme none --mode file --excludeExternals --plugin typedoc-plugin-markdown  --theme site/docs/theme --hideSources --hideBreadcrumbs --out site/docs/api/ --includeDeclarations --includes 'src/**/*.d.ts' src; touch site/docs/api/_sidebar.md","dev:docs":"nodemon -e ts -x 'npm run docs' -w src",dev:"concurrently --names 'ROLLUP,DOCS,HTTP' -c 'bgBlue.bold,bgYellow.bold,bgGreen.bold' 'rollup -c -w -m inline' 'npm run dev:docs' 'npm run dev:server'","dev:server":"http-server -c-1 -p 8080 --cors ./site",lint:"eslint src test examples",start:"npm run dev",deploy:"np",prepublishOnly:"npm run build",postdeploy:"npm run gh-pages","gh-pages":"gh-pages -d site",benchmarks:"node -r esm --expose-gc benchmarks/index.js",test:"ava",travis:"npm run lint && npm run test && npm run build","watch:test":"ava --watch"},repository={type:"git",url:"git+https://github.com/robertlong/ecsy.git"},keywords=["ecs","entity component system"],author="Mozilla Reality <mr-internal@mozilla.com> (https://mixedreality.mozilla.org)",license="MIT",bugs={url:"https://github.com/robertlong/ecsy/issues"},ava={files:["test/**/*.test.js"],require:["esm"]},files=["build","lib","src"],homepage="https://github.com/robertlong/ecsy#readme",devDependencies={"@babel/cli":"^7.10.1","@babel/core":"^7.10.2","@babel/plugin-transform-modules-commonjs":"^7.10.1","@rollup/plugin-node-resolve":"^8.0.1",ava:"^3.9.0","babel-eslint":"^10.0.3","benchmarker-js":"0.0.1",concurrently:"^4.1.2","docsify-cli":"^4.4.0",eslint:"^5.16.0","eslint-config-prettier":"^4.3.0","eslint-plugin-prettier":"^3.1.2",esm:"^3.2.25","gh-pages":"^3.0.0","http-server":"^0.11.1",nodemon:"^1.19.4",np:"^6.2.4",prettier:"^1.19.1",rimraf:"^3.0.2",rollup:"^1.29.0","rollup-plugin-json":"^4.0.0","rollup-plugin-sourcemaps":"^0.6.2","rollup-plugin-terser":"^5.2.0",typedoc:"^0.15.8","typedoc-plugin-markdown":"^2.2.16",typescript:"^3.7.5"},pjson={name:name,version:version,description:description,main:main,module:module,types:types,scripts:scripts,repository:repository,keywords:keywords,author:author,license:license,bugs:bugs,ava:ava,files:files,homepage:homepage,devDependencies:devDependencies};const Version=pjson.version;var nextId=0;class Entity{constructor(e){this._world=e||null,this.id=nextId++,this._ComponentTypes=[],this._components={},this._componentsToRemove={},this.queries=[],this._ComponentTypesToRemove=[],this.alive=!1,this.numStateComponents=0}getComponent(e,t){var n=this._components[e.name];return n||!0!==t||(n=this._componentsToRemove[e.name]),n}getRemovedComponent(e){return this._componentsToRemove[e.name]}getComponents(){return this._components}getComponentsToRemove(){return this._componentsToRemove}getComponentTypes(){return this._ComponentTypes}getMutableComponent(e){for(var t=this._components[e.name],n=0;n<this.queries.length;n++){var s=this.queries[n];s.reactive&&-1!==s.Components.indexOf(e)&&s.eventDispatcher.dispatchEvent(Query.prototype.COMPONENT_CHANGED,this,t)}return t}addComponent(e,t){return this._world.entityAddComponent(this,e,t),this}removeComponent(e,t){return this._world.entityRemoveComponent(this,e,t),this}hasComponent(e,t){return!!~this._ComponentTypes.indexOf(e)||!0===t&&this.hasRemovedComponent(e)}hasRemovedComponent(e){return!!~this._ComponentTypesToRemove.indexOf(e)}hasAllComponents(e){for(var t=0;t<e.length;t++)if(!this.hasComponent(e[t]))return!1;return!0}hasAnyComponents(e){for(var t=0;t<e.length;t++)if(this.hasComponent(e[t]))return!0;return!1}removeAllComponents(e){return this._world.entityRemoveAllComponents(this,e)}reset(){this.id=nextId++,this._world=null,this._ComponentTypes.length=0,this.queries.length=0,this._components={}}remove(e){return this._world.removeEntity(this,e)}}const DEFAULT_OPTIONS={entityPoolSize:0,entityClass:Entity};class World{constructor(e={}){if(this.options=Object.assign({},DEFAULT_OPTIONS,e),this.componentsManager=new ComponentManager(this),this.entityManager=new EntityManager(this),this.systemManager=new SystemManager(this),this.enabled=!0,this.eventQueues={},hasWindow&&"undefined"!=typeof CustomEvent){var t=new CustomEvent("ecsy-world-created",{detail:{world:this,version:Version}});window.dispatchEvent(t)}this.lastTime=now()}registerComponent(e){return this.componentsManager.registerComponent(e),this}registerSystem(e,t){return this.systemManager.registerSystem(e,t),this}unregisterSystem(e){return this.systemManager.unregisterSystem(e),this}getSystem(e){return this.systemManager.getSystem(e)}getSystems(){return this.systemManager.getSystems()}execute(e,t){e||(e=(t=now())-this.lastTime,this.lastTime=t),this.enabled&&(this.systemManager.execute(e,t),this.entityManager.processDeferredRemoval())}stop(){this.enabled=!1}play(){this.enabled=!0}createEntity(e){return this.entityManager.createEntity(e)}stats(){var e={entities:this.entityManager.stats(),system:this.systemManager.stats()};console.log(JSON.stringify(e,null,2))}}class Component{}Component.isComponent=!0;class TagComponent{reset(){}}function createType(e){var t=["create","reset","clear"].filter(t=>!e[t]);if(t.length>0)throw new Error(`createType expect type definition to implements the following functions: ${t.join(", ")}`);return e.isType=!0,e}TagComponent.isTagComponent=!0;var Types={};Types.Number=createType({baseType:Number,isSimpleType:!0,create:e=>void 0!==e?e:0,reset:(e,t,n)=>{e[t]=void 0!==n?n:0},clear:(e,t)=>{e[t]=0}}),Types.Boolean=createType({baseType:Boolean,isSimpleType:!0,create:e=>void 0!==e&&e,reset:(e,t,n)=>{e[t]=void 0!==n&&n},clear:(e,t)=>{e[t]=!1}}),Types.String=createType({baseType:String,isSimpleType:!0,create:e=>void 0!==e?e:"",reset:(e,t,n)=>{e[t]=void 0!==n?n:""},clear:(e,t)=>{e[t]=""}}),Types.Array=createType({baseType:Array,create:e=>void 0!==e?e.slice():[],reset:(e,t,n)=>{void 0!==n?e[t]=n.slice():e[t].length=0},clear:(e,t)=>{e[t].length=0},copy:(e,t,n)=>{e[n]=t[n].slice()}});var standardTypes={number:Types.Number,boolean:Types.Boolean,string:Types.String};function inferType(e){return Array.isArray(e)?Types.Array:standardTypes[typeof e]?standardTypes[typeof e]:null}function createComponentClass(e,t){for(let t in e){e[t].type||(e[t].type=inferType(e[t].default))}var n=function(){for(let n in e){var t=e[n];let s=t.type;s&&s.isType?this[n]=s.create(t.default):this[n]=t.default}};void 0!==t&&Object.defineProperty(n,"name",{value:t}),n.prototype.schema=e;var s=!0;for(let t in e){var o=e[t];o.type||(o.type=inferType(o.default)),o.type||(console.warn(`Unknown type definition for attribute '${t}'`),s=!1)}if(s){n.prototype.copy=function(t){for(let n in e)if(t[n]){let s=e[n].type;s.isSimpleType?this[n]=t[n]:s.copy?s.copy(this,t,n):console.warn(`Unknown copy function for attribute '${n}' data type`)}},n.prototype.reset=function(){for(let t in e){let n=e[t],s=n.type;s.reset&&s.reset(this,t,n.default)}},n.prototype.clear=function(){for(let t in e){let n=e[t].type;n.clear&&n.clear(this,t)}};for(let t in e){let s=e[t],o=s.type;n.prototype[t]=s.default,o.reset&&o.reset(n.prototype,t,s.default)}}else for(var i in console.warn("This component can't use pooling because some data types are not registered. Please provide a type created with 'createType'"),e){let t=e[i];n.prototype[i]=t.default}return n}function generateId(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=n.length,o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*s));return t}function injectScript(e,t){var n=document.createElement("script");n.src=e,n.onload=t,(document.head||document.documentElement).appendChild(n)}function hookConsoleAndErrors(e){["error","warning","log"].forEach(t=>{if("function"==typeof console[t]){var n=console[t].bind(console);console[t]=(...s)=>(e.send({method:"console",type:t,args:JSON.stringify(s)}),n.apply(null,s))}}),window.addEventListener("error",t=>{e.send({method:"error",error:JSON.stringify({message:t.error.message,stack:t.error.stack})})})}function includeRemoteIdHTML(e){let t=document.createElement("div");return t.style.cssText="\n    align-items: center;\n    background-color: #333;\n    color: #aaa;\n    display:flex;\n    font-family: Arial;\n    font-size: 1.1em;\n    height: 40px;\n    justify-content: center;\n    left: 0;\n    opacity: 0.9;\n    position: absolute;\n    right: 0;\n    text-align: center;\n    top: 0;\n  ",t.innerHTML=`Open ECSY devtools to connect to this page using the code:&nbsp;<b style="color: #fff">${e}</b>&nbsp;<button onClick="generateNewCode()">Generate new code</button>`,document.body.appendChild(t),t}function enableRemoteDevtools(remoteId){if(!hasWindow)return void console.warn("Remote devtools not available outside the browser");window.generateNewCode=()=>{window.localStorage.clear(),remoteId=generateId(6),window.localStorage.setItem("ecsyRemoteId",remoteId),window.location.reload(!1)},remoteId=remoteId||window.localStorage.getItem("ecsyRemoteId"),remoteId||(remoteId=generateId(6),window.localStorage.setItem("ecsyRemoteId",remoteId));let infoDiv=includeRemoteIdHTML(remoteId);window.__ECSY_REMOTE_DEVTOOLS_INJECTED=!0,window.__ECSY_REMOTE_DEVTOOLS={};let Version="",worldsBeforeLoading=[],onWorldCreated=e=>{var t=e.detail.world;Version=e.detail.version,worldsBeforeLoading.push(t)};window.addEventListener("ecsy-world-created",onWorldCreated);let onLoaded=()=>{var peer=new Peer(remoteId);peer.on("open",()=>{peer.on("connection",connection=>{window.__ECSY_REMOTE_DEVTOOLS.connection=connection,connection.on("open",(function(){infoDiv.innerHTML="Connected",connection.on("data",(function(data){if("init"===data.type){var script=document.createElement("script");script.setAttribute("type","text/javascript"),script.onload=()=>{script.parentNode.removeChild(script),window.removeEventListener("ecsy-world-created",onWorldCreated),worldsBeforeLoading.forEach(e=>{var t=new CustomEvent("ecsy-world-created",{detail:{world:e,version:Version}});window.dispatchEvent(t)})},script.innerHTML=data.script,(document.head||document.documentElement).appendChild(script),script.onload(),hookConsoleAndErrors(connection)}else if("executeScript"===data.type){let value=eval(data.script);data.returnEval&&connection.send({method:"evalReturn",value:value})}}))}))})})};injectScript("https://cdn.jsdelivr.net/npm/peerjs@0.3.20/dist/peer.min.js",onLoaded)}if(hasWindow){const e=new URLSearchParams(window.location.search);e.has("enable-remote-devtools")&&enableRemoteDevtools()}export{Component,Not,System,SystemStateComponent,TagComponent,Types,Version,World,Entity as _Entity,createComponentClass,createType,enableRemoteDevtools};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWNzeS5tb2R1bGUubWluLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvVXRpbHMuanMiLCIuLi8uLi9zcmMvRXZlbnREaXNwYXRjaGVyLmpzIiwiLi4vLi4vc3JjL1F1ZXJ5LmpzIiwiLi4vLi4vc3JjL1N5c3RlbS5qcyIsIi4uLy4uL3NyYy9TeXN0ZW1NYW5hZ2VyLmpzIiwiLi4vLi4vc3JjL09iamVjdFBvb2wuanMiLCIuLi8uLi9zcmMvUXVlcnlNYW5hZ2VyLmpzIiwiLi4vLi4vc3JjL1N5c3RlbVN0YXRlQ29tcG9uZW50LmpzIiwiLi4vLi4vc3JjL0VudGl0eU1hbmFnZXIuanMiLCIuLi8uLi9zcmMvRHVtbXlPYmplY3RQb29sLmpzIiwiLi4vLi4vc3JjL0NvbXBvbmVudE1hbmFnZXIuanMiLCIuLi8uLi9zcmMvVmVyc2lvbi5qcyIsIi4uLy4uL3NyYy9FbnRpdHkuanMiLCIuLi8uLi9zcmMvV29ybGQuanMiLCIuLi8uLi9zcmMvQ29tcG9uZW50LmpzIiwiLi4vLi4vc3JjL1RhZ0NvbXBvbmVudC5qcyIsIi4uLy4uL3NyYy9DcmVhdGVUeXBlLmpzIiwiLi4vLi4vc3JjL1N0YW5kYXJkVHlwZXMuanMiLCIuLi8uLi9zcmMvSW5mZXJUeXBlLmpzIiwiLi4vLi4vc3JjL0NyZWF0ZUNvbXBvbmVudENsYXNzLmpzIiwiLi4vLi4vc3JjL1JlbW90ZURldlRvb2xzL3V0aWxzLmpzIiwiLi4vLi4vc3JjL1JlbW90ZURldlRvb2xzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUmV0dXJuIHRoZSBuYW1lIG9mIGEgY29tcG9uZW50XG4gKiBAcGFyYW0ge0NvbXBvbmVudH0gQ29tcG9uZW50XG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmFtZShDb21wb25lbnQpIHtcbiAgcmV0dXJuIENvbXBvbmVudC5uYW1lO1xufVxuXG4vKipcbiAqIFJldHVybiBhIHZhbGlkIHByb3BlcnR5IG5hbWUgZm9yIHRoZSBDb21wb25lbnRcbiAqIEBwYXJhbSB7Q29tcG9uZW50fSBDb21wb25lbnRcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wb25lbnRQcm9wZXJ0eU5hbWUoQ29tcG9uZW50KSB7XG4gIHJldHVybiBnZXROYW1lKENvbXBvbmVudCk7XG59XG5cbi8qKlxuICogR2V0IGEga2V5IGZyb20gYSBsaXN0IG9mIGNvbXBvbmVudHNcbiAqIEBwYXJhbSB7QXJyYXkoQ29tcG9uZW50KX0gQ29tcG9uZW50cyBBcnJheSBvZiBjb21wb25lbnRzIHRvIGdlbmVyYXRlIHRoZSBrZXlcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeUtleShDb21wb25lbnRzKSB7XG4gIHZhciBuYW1lcyA9IFtdO1xuICBmb3IgKHZhciBuID0gMDsgbiA8IENvbXBvbmVudHMubGVuZ3RoOyBuKyspIHtcbiAgICB2YXIgVCA9IENvbXBvbmVudHNbbl07XG4gICAgaWYgKHR5cGVvZiBUID09PSBcIm9iamVjdFwiKSB7XG4gICAgICB2YXIgb3BlcmF0b3IgPSBULm9wZXJhdG9yID09PSBcIm5vdFwiID8gXCIhXCIgOiBULm9wZXJhdG9yO1xuICAgICAgbmFtZXMucHVzaChvcGVyYXRvciArIGdldE5hbWUoVC5Db21wb25lbnQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmFtZXMucHVzaChnZXROYW1lKFQpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmFtZXMuc29ydCgpLmpvaW4oXCItXCIpO1xufVxuXG4vLyBEZXRlY3RvciBmb3IgYnJvd3NlcidzIFwid2luZG93XCJcbmV4cG9ydCBjb25zdCBoYXNXaW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiO1xuXG4vLyBwZXJmb3JtYW5jZS5ub3coKSBcInBvbHlmaWxsXCJcbmV4cG9ydCBjb25zdCBub3cgPVxuICBoYXNXaW5kb3cgJiYgdHlwZW9mIHdpbmRvdy5wZXJmb3JtYW5jZSAhPT0gXCJ1bmRlZmluZWRcIlxuICAgID8gcGVyZm9ybWFuY2Uubm93LmJpbmQocGVyZm9ybWFuY2UpXG4gICAgOiBEYXRlLm5vdy5iaW5kKERhdGUpO1xuIiwiLyoqXG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzIEV2ZW50RGlzcGF0Y2hlclxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudERpc3BhdGNoZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcbiAgICB0aGlzLnN0YXRzID0ge1xuICAgICAgZmlyZWQ6IDAsXG4gICAgICBoYW5kbGVkOiAwXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZSBOYW1lIG9mIHRoZSBldmVudCB0byBsaXN0ZW5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgQ2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIHRoZSBldmVudCBpcyBmaXJlZFxuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcbiAgICBpZiAobGlzdGVuZXJzW2V2ZW50TmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgbGlzdGVuZXJzW2V2ZW50TmFtZV0gPSBbXTtcbiAgICB9XG5cbiAgICBpZiAobGlzdGVuZXJzW2V2ZW50TmFtZV0uaW5kZXhPZihsaXN0ZW5lcikgPT09IC0xKSB7XG4gICAgICBsaXN0ZW5lcnNbZXZlbnROYW1lXS5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYW4gZXZlbnQgbGlzdGVuZXIgaXMgYWxyZWFkeSBhZGRlZCB0byB0aGUgbGlzdCBvZiBsaXN0ZW5lcnNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZSBOYW1lIG9mIHRoZSBldmVudCB0byBjaGVja1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBDYWxsYmFjayBmb3IgdGhlIHNwZWNpZmllZCBldmVudFxuICAgKi9cbiAgaGFzRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuX2xpc3RlbmVyc1tldmVudE5hbWVdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIHRoaXMuX2xpc3RlbmVyc1tldmVudE5hbWVdLmluZGV4T2YobGlzdGVuZXIpICE9PSAtMVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiB0aGUgZXZlbnQgdG8gcmVtb3ZlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIENhbGxiYWNrIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50XG4gICAqL1xuICByZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICB2YXIgbGlzdGVuZXJBcnJheSA9IHRoaXMuX2xpc3RlbmVyc1tldmVudE5hbWVdO1xuICAgIGlmIChsaXN0ZW5lckFycmF5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBpbmRleCA9IGxpc3RlbmVyQXJyYXkuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIGxpc3RlbmVyQXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2ggYW4gZXZlbnRcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZSBOYW1lIG9mIHRoZSBldmVudCB0byBkaXNwYXRjaFxuICAgKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5IChPcHRpb25hbCkgRW50aXR5IHRvIGVtaXRcbiAgICogQHBhcmFtIHtDb21wb25lbnR9IGNvbXBvbmVudFxuICAgKi9cbiAgZGlzcGF0Y2hFdmVudChldmVudE5hbWUsIGVudGl0eSwgY29tcG9uZW50KSB7XG4gICAgdGhpcy5zdGF0cy5maXJlZCsrO1xuXG4gICAgdmFyIGxpc3RlbmVyQXJyYXkgPSB0aGlzLl9saXN0ZW5lcnNbZXZlbnROYW1lXTtcbiAgICBpZiAobGlzdGVuZXJBcnJheSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgYXJyYXkgPSBsaXN0ZW5lckFycmF5LnNsaWNlKDApO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycmF5W2ldLmNhbGwodGhpcywgZW50aXR5LCBjb21wb25lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCBzdGF0cyBjb3VudGVyc1xuICAgKi9cbiAgcmVzZXRDb3VudGVycygpIHtcbiAgICB0aGlzLnN0YXRzLmZpcmVkID0gdGhpcy5zdGF0cy5oYW5kbGVkID0gMDtcbiAgfVxufVxuIiwiaW1wb3J0IEV2ZW50RGlzcGF0Y2hlciBmcm9tIFwiLi9FdmVudERpc3BhdGNoZXIuanNcIjtcbmltcG9ydCB7IHF1ZXJ5S2V5IH0gZnJvbSBcIi4vVXRpbHMuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUXVlcnkge1xuICAvKipcbiAgICogQHBhcmFtIHtBcnJheShDb21wb25lbnQpfSBDb21wb25lbnRzIExpc3Qgb2YgdHlwZXMgb2YgY29tcG9uZW50cyB0byBxdWVyeVxuICAgKi9cbiAgY29uc3RydWN0b3IoQ29tcG9uZW50cywgbWFuYWdlcikge1xuICAgIHRoaXMuQ29tcG9uZW50cyA9IFtdO1xuICAgIHRoaXMuTm90Q29tcG9uZW50cyA9IFtdO1xuXG4gICAgQ29tcG9uZW50cy5mb3JFYWNoKGNvbXBvbmVudCA9PiB7XG4gICAgICBpZiAodHlwZW9mIGNvbXBvbmVudCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICB0aGlzLk5vdENvbXBvbmVudHMucHVzaChjb21wb25lbnQuQ29tcG9uZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuQ29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5Db21wb25lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgY3JlYXRlIGEgcXVlcnkgd2l0aG91dCBjb21wb25lbnRzXCIpO1xuICAgIH1cblxuICAgIHRoaXMuZW50aXRpZXMgPSBbXTtcblxuICAgIHRoaXMuZXZlbnREaXNwYXRjaGVyID0gbmV3IEV2ZW50RGlzcGF0Y2hlcigpO1xuXG4gICAgLy8gVGhpcyBxdWVyeSBpcyBiZWluZyB1c2VkIGJ5IGEgcmVhY3RpdmUgc3lzdGVtXG4gICAgdGhpcy5yZWFjdGl2ZSA9IGZhbHNlO1xuXG4gICAgdGhpcy5rZXkgPSBxdWVyeUtleShDb21wb25lbnRzKTtcblxuICAgIC8vIEZpbGwgdGhlIHF1ZXJ5IHdpdGggdGhlIGV4aXN0aW5nIGVudGl0aWVzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYW5hZ2VyLl9lbnRpdGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGVudGl0eSA9IG1hbmFnZXIuX2VudGl0aWVzW2ldO1xuICAgICAgaWYgKHRoaXMubWF0Y2goZW50aXR5KSkge1xuICAgICAgICAvLyBAdG9kbyA/Pz8gdGhpcy5hZGRFbnRpdHkoZW50aXR5KTsgPT4gcHJldmVudGluZyB0aGUgZXZlbnQgdG8gYmUgZ2VuZXJhdGVkXG4gICAgICAgIGVudGl0eS5xdWVyaWVzLnB1c2godGhpcyk7XG4gICAgICAgIHRoaXMuZW50aXRpZXMucHVzaChlbnRpdHkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgZW50aXR5IHRvIHRoaXMgcXVlcnlcbiAgICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eVxuICAgKi9cbiAgYWRkRW50aXR5KGVudGl0eSkge1xuICAgIGVudGl0eS5xdWVyaWVzLnB1c2godGhpcyk7XG4gICAgdGhpcy5lbnRpdGllcy5wdXNoKGVudGl0eSk7XG5cbiAgICB0aGlzLmV2ZW50RGlzcGF0Y2hlci5kaXNwYXRjaEV2ZW50KFF1ZXJ5LnByb3RvdHlwZS5FTlRJVFlfQURERUQsIGVudGl0eSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGVudGl0eSBmcm9tIHRoaXMgcXVlcnlcbiAgICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eVxuICAgKi9cbiAgcmVtb3ZlRW50aXR5KGVudGl0eSkge1xuICAgIGxldCBpbmRleCA9IHRoaXMuZW50aXRpZXMuaW5kZXhPZihlbnRpdHkpO1xuICAgIGlmICh+aW5kZXgpIHtcbiAgICAgIHRoaXMuZW50aXRpZXMuc3BsaWNlKGluZGV4LCAxKTtcblxuICAgICAgaW5kZXggPSBlbnRpdHkucXVlcmllcy5pbmRleE9mKHRoaXMpO1xuICAgICAgZW50aXR5LnF1ZXJpZXMuc3BsaWNlKGluZGV4LCAxKTtcblxuICAgICAgdGhpcy5ldmVudERpc3BhdGNoZXIuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgUXVlcnkucHJvdG90eXBlLkVOVElUWV9SRU1PVkVELFxuICAgICAgICBlbnRpdHlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgbWF0Y2goZW50aXR5KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGVudGl0eS5oYXNBbGxDb21wb25lbnRzKHRoaXMuQ29tcG9uZW50cykgJiZcbiAgICAgICFlbnRpdHkuaGFzQW55Q29tcG9uZW50cyh0aGlzLk5vdENvbXBvbmVudHMpXG4gICAgKTtcbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAga2V5OiB0aGlzLmtleSxcbiAgICAgIHJlYWN0aXZlOiB0aGlzLnJlYWN0aXZlLFxuICAgICAgY29tcG9uZW50czoge1xuICAgICAgICBpbmNsdWRlZDogdGhpcy5Db21wb25lbnRzLm1hcChDID0+IEMubmFtZSksXG4gICAgICAgIG5vdDogdGhpcy5Ob3RDb21wb25lbnRzLm1hcChDID0+IEMubmFtZSlcbiAgICAgIH0sXG4gICAgICBudW1FbnRpdGllczogdGhpcy5lbnRpdGllcy5sZW5ndGhcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBzdGF0cyBmb3IgdGhpcyBxdWVyeVxuICAgKi9cbiAgc3RhdHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG51bUNvbXBvbmVudHM6IHRoaXMuQ29tcG9uZW50cy5sZW5ndGgsXG4gICAgICBudW1FbnRpdGllczogdGhpcy5lbnRpdGllcy5sZW5ndGhcbiAgICB9O1xuICB9XG59XG5cblF1ZXJ5LnByb3RvdHlwZS5FTlRJVFlfQURERUQgPSBcIlF1ZXJ5I0VOVElUWV9BRERFRFwiO1xuUXVlcnkucHJvdG90eXBlLkVOVElUWV9SRU1PVkVEID0gXCJRdWVyeSNFTlRJVFlfUkVNT1ZFRFwiO1xuUXVlcnkucHJvdG90eXBlLkNPTVBPTkVOVF9DSEFOR0VEID0gXCJRdWVyeSNDT01QT05FTlRfQ0hBTkdFRFwiO1xuIiwiaW1wb3J0IFF1ZXJ5IGZyb20gXCIuL1F1ZXJ5LmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBTeXN0ZW0ge1xuICBjYW5FeGVjdXRlKCkge1xuICAgIGlmICh0aGlzLl9tYW5kYXRvcnlRdWVyaWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX21hbmRhdG9yeVF1ZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBxdWVyeSA9IHRoaXMuX21hbmRhdG9yeVF1ZXJpZXNbaV07XG4gICAgICBpZiAocXVlcnkuZW50aXRpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHdvcmxkLCBhdHRyaWJ1dGVzKSB7XG4gICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG5cbiAgICAvLyBAdG9kbyBCZXR0ZXIgbmFtaW5nIDopXG4gICAgdGhpcy5fcXVlcmllcyA9IHt9O1xuICAgIHRoaXMucXVlcmllcyA9IHt9O1xuXG4gICAgdGhpcy5wcmlvcml0eSA9IDA7XG5cbiAgICAvLyBVc2VkIGZvciBzdGF0c1xuICAgIHRoaXMuZXhlY3V0ZVRpbWUgPSAwO1xuXG4gICAgaWYgKGF0dHJpYnV0ZXMgJiYgYXR0cmlidXRlcy5wcmlvcml0eSkge1xuICAgICAgdGhpcy5wcmlvcml0eSA9IGF0dHJpYnV0ZXMucHJpb3JpdHk7XG4gICAgfVxuXG4gICAgdGhpcy5fbWFuZGF0b3J5UXVlcmllcyA9IFtdO1xuXG4gICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG5cbiAgICBpZiAodGhpcy5jb25zdHJ1Y3Rvci5xdWVyaWVzKSB7XG4gICAgICBmb3IgKHZhciBxdWVyeU5hbWUgaW4gdGhpcy5jb25zdHJ1Y3Rvci5xdWVyaWVzKSB7XG4gICAgICAgIHZhciBxdWVyeUNvbmZpZyA9IHRoaXMuY29uc3RydWN0b3IucXVlcmllc1txdWVyeU5hbWVdO1xuICAgICAgICB2YXIgQ29tcG9uZW50cyA9IHF1ZXJ5Q29uZmlnLmNvbXBvbmVudHM7XG4gICAgICAgIGlmICghQ29tcG9uZW50cyB8fCBDb21wb25lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIidjb21wb25lbnRzJyBhdHRyaWJ1dGUgY2FuJ3QgYmUgZW1wdHkgaW4gYSBxdWVyeVwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcXVlcnkgPSB0aGlzLndvcmxkLmVudGl0eU1hbmFnZXIucXVlcnlDb21wb25lbnRzKENvbXBvbmVudHMpO1xuICAgICAgICB0aGlzLl9xdWVyaWVzW3F1ZXJ5TmFtZV0gPSBxdWVyeTtcbiAgICAgICAgaWYgKHF1ZXJ5Q29uZmlnLm1hbmRhdG9yeSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHRoaXMuX21hbmRhdG9yeVF1ZXJpZXMucHVzaChxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5xdWVyaWVzW3F1ZXJ5TmFtZV0gPSB7XG4gICAgICAgICAgcmVzdWx0czogcXVlcnkuZW50aXRpZXNcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBSZWFjdGl2ZSBjb25maWd1cmF0aW9uIGFkZGVkL3JlbW92ZWQvY2hhbmdlZFxuICAgICAgICB2YXIgdmFsaWRFdmVudHMgPSBbXCJhZGRlZFwiLCBcInJlbW92ZWRcIiwgXCJjaGFuZ2VkXCJdO1xuXG4gICAgICAgIGNvbnN0IGV2ZW50TWFwcGluZyA9IHtcbiAgICAgICAgICBhZGRlZDogUXVlcnkucHJvdG90eXBlLkVOVElUWV9BRERFRCxcbiAgICAgICAgICByZW1vdmVkOiBRdWVyeS5wcm90b3R5cGUuRU5USVRZX1JFTU9WRUQsXG4gICAgICAgICAgY2hhbmdlZDogUXVlcnkucHJvdG90eXBlLkNPTVBPTkVOVF9DSEFOR0VEIC8vIFF1ZXJ5LnByb3RvdHlwZS5FTlRJVFlfQ0hBTkdFRFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChxdWVyeUNvbmZpZy5saXN0ZW4pIHtcbiAgICAgICAgICB2YWxpZEV2ZW50cy5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZXhlY3V0ZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgYFN5c3RlbSAnJHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IubmFtZVxuICAgICAgICAgICAgICAgIH0nIGhhcyBkZWZpbmVkIGxpc3RlbiBldmVudHMgKCR7dmFsaWRFdmVudHMuam9pbihcbiAgICAgICAgICAgICAgICAgIFwiLCBcIlxuICAgICAgICAgICAgICAgICl9KSBmb3IgcXVlcnkgJyR7cXVlcnlOYW1lfScgYnV0IGl0IGRvZXMgbm90IGltcGxlbWVudCB0aGUgJ2V4ZWN1dGUnIG1ldGhvZC5gXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElzIHRoZSBldmVudCBlbmFibGVkIG9uIHRoaXMgc3lzdGVtJ3MgcXVlcnk/XG4gICAgICAgICAgICBpZiAocXVlcnlDb25maWcubGlzdGVuW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgICAgICAgbGV0IGV2ZW50ID0gcXVlcnlDb25maWcubGlzdGVuW2V2ZW50TmFtZV07XG5cbiAgICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gXCJjaGFuZ2VkXCIpIHtcbiAgICAgICAgICAgICAgICBxdWVyeS5yZWFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAvLyBBbnkgY2hhbmdlIG9uIHRoZSBlbnRpdHkgZnJvbSB0aGUgY29tcG9uZW50cyBpbiB0aGUgcXVlcnlcbiAgICAgICAgICAgICAgICAgIGxldCBldmVudExpc3QgPSAodGhpcy5xdWVyaWVzW3F1ZXJ5TmFtZV1bZXZlbnROYW1lXSA9IFtdKTtcbiAgICAgICAgICAgICAgICAgIHF1ZXJ5LmV2ZW50RGlzcGF0Y2hlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICBRdWVyeS5wcm90b3R5cGUuQ09NUE9ORU5UX0NIQU5HRUQsXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gQXZvaWQgZHVwbGljYXRlc1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudExpc3QuaW5kZXhPZihlbnRpdHkpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRMaXN0LnB1c2goZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGV2ZW50KSkge1xuICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50TGlzdCA9ICh0aGlzLnF1ZXJpZXNbcXVlcnlOYW1lXVtldmVudE5hbWVdID0gW10pO1xuICAgICAgICAgICAgICAgICAgcXVlcnkuZXZlbnREaXNwYXRjaGVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICAgIFF1ZXJ5LnByb3RvdHlwZS5DT01QT05FTlRfQ0hBTkdFRCxcbiAgICAgICAgICAgICAgICAgICAgKGVudGl0eSwgY2hhbmdlZENvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIEF2b2lkIGR1cGxpY2F0ZXNcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5pbmRleE9mKGNoYW5nZWRDb21wb25lbnQuY29uc3RydWN0b3IpICE9PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRMaXN0LmluZGV4T2YoZW50aXR5KSA9PT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TGlzdC5wdXNoKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgLy8gQ2hlY2tpbmcganVzdCBzcGVjaWZpYyBjb21wb25lbnRzXG4gICAgICAgICAgICAgICAgICBsZXQgY2hhbmdlZExpc3QgPSAodGhpcy5xdWVyaWVzW3F1ZXJ5TmFtZV1bZXZlbnROYW1lXSA9IHt9KTtcbiAgICAgICAgICAgICAgICAgIGV2ZW50LmZvckVhY2goY29tcG9uZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50TGlzdCA9IChjaGFuZ2VkTGlzdFtcbiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wZXJ0eU5hbWUoY29tcG9uZW50KVxuICAgICAgICAgICAgICAgICAgICBdID0gW10pO1xuICAgICAgICAgICAgICAgICAgICBxdWVyeS5ldmVudERpc3BhdGNoZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgICBRdWVyeS5wcm90b3R5cGUuQ09NUE9ORU5UX0NIQU5HRUQsXG4gICAgICAgICAgICAgICAgICAgICAgKGVudGl0eSwgY2hhbmdlZENvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkQ29tcG9uZW50LmNvbnN0cnVjdG9yID09PSBjb21wb25lbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRMaXN0LmluZGV4T2YoZW50aXR5KSA9PT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudExpc3QucHVzaChlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TGlzdCA9ICh0aGlzLnF1ZXJpZXNbcXVlcnlOYW1lXVtldmVudE5hbWVdID0gW10pO1xuXG4gICAgICAgICAgICAgICAgcXVlcnkuZXZlbnREaXNwYXRjaGVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICBldmVudE1hcHBpbmdbZXZlbnROYW1lXSxcbiAgICAgICAgICAgICAgICAgIGVudGl0eSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEBmaXhtZSBvdmVyaGVhZD9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50TGlzdC5pbmRleE9mKGVudGl0eSkgPT09IC0xKVxuICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TGlzdC5wdXNoKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RvcCgpIHtcbiAgICB0aGlzLmV4ZWN1dGVUaW1lID0gMDtcbiAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHBsYXkoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIEBxdWVzdGlvbiByZW5hbWUgdG8gY2xlYXIgcXVldWVzP1xuICBjbGVhckV2ZW50cygpIHtcbiAgICBmb3IgKGxldCBxdWVyeU5hbWUgaW4gdGhpcy5xdWVyaWVzKSB7XG4gICAgICB2YXIgcXVlcnkgPSB0aGlzLnF1ZXJpZXNbcXVlcnlOYW1lXTtcbiAgICAgIGlmIChxdWVyeS5hZGRlZCkge1xuICAgICAgICBxdWVyeS5hZGRlZC5sZW5ndGggPSAwO1xuICAgICAgfVxuICAgICAgaWYgKHF1ZXJ5LnJlbW92ZWQpIHtcbiAgICAgICAgcXVlcnkucmVtb3ZlZC5sZW5ndGggPSAwO1xuICAgICAgfVxuICAgICAgaWYgKHF1ZXJ5LmNoYW5nZWQpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocXVlcnkuY2hhbmdlZCkpIHtcbiAgICAgICAgICBxdWVyeS5jaGFuZ2VkLmxlbmd0aCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBxdWVyeS5jaGFuZ2VkKSB7XG4gICAgICAgICAgICBxdWVyeS5jaGFuZ2VkW25hbWVdLmxlbmd0aCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIHZhciBqc29uID0ge1xuICAgICAgbmFtZTogdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLFxuICAgICAgZW5hYmxlZDogdGhpcy5lbmFibGVkLFxuICAgICAgZXhlY3V0ZVRpbWU6IHRoaXMuZXhlY3V0ZVRpbWUsXG4gICAgICBwcmlvcml0eTogdGhpcy5wcmlvcml0eSxcbiAgICAgIHF1ZXJpZXM6IHt9XG4gICAgfTtcblxuICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLnF1ZXJpZXMpIHtcbiAgICAgIHZhciBxdWVyaWVzID0gdGhpcy5jb25zdHJ1Y3Rvci5xdWVyaWVzO1xuICAgICAgZm9yIChsZXQgcXVlcnlOYW1lIGluIHF1ZXJpZXMpIHtcbiAgICAgICAgbGV0IHF1ZXJ5ID0gdGhpcy5xdWVyaWVzW3F1ZXJ5TmFtZV07XG4gICAgICAgIGxldCBxdWVyeURlZmluaXRpb24gPSBxdWVyaWVzW3F1ZXJ5TmFtZV07XG4gICAgICAgIGxldCBqc29uUXVlcnkgPSAoanNvbi5xdWVyaWVzW3F1ZXJ5TmFtZV0gPSB7XG4gICAgICAgICAga2V5OiB0aGlzLl9xdWVyaWVzW3F1ZXJ5TmFtZV0ua2V5XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGpzb25RdWVyeS5tYW5kYXRvcnkgPSBxdWVyeURlZmluaXRpb24ubWFuZGF0b3J5ID09PSB0cnVlO1xuICAgICAgICBqc29uUXVlcnkucmVhY3RpdmUgPVxuICAgICAgICAgIHF1ZXJ5RGVmaW5pdGlvbi5saXN0ZW4gJiZcbiAgICAgICAgICAocXVlcnlEZWZpbml0aW9uLmxpc3Rlbi5hZGRlZCA9PT0gdHJ1ZSB8fFxuICAgICAgICAgICAgcXVlcnlEZWZpbml0aW9uLmxpc3Rlbi5yZW1vdmVkID09PSB0cnVlIHx8XG4gICAgICAgICAgICBxdWVyeURlZmluaXRpb24ubGlzdGVuLmNoYW5nZWQgPT09IHRydWUgfHxcbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkocXVlcnlEZWZpbml0aW9uLmxpc3Rlbi5jaGFuZ2VkKSk7XG5cbiAgICAgICAgaWYgKGpzb25RdWVyeS5yZWFjdGl2ZSkge1xuICAgICAgICAgIGpzb25RdWVyeS5saXN0ZW4gPSB7fTtcblxuICAgICAgICAgIGNvbnN0IG1ldGhvZHMgPSBbXCJhZGRlZFwiLCBcInJlbW92ZWRcIiwgXCJjaGFuZ2VkXCJdO1xuICAgICAgICAgIG1ldGhvZHMuZm9yRWFjaChtZXRob2QgPT4ge1xuICAgICAgICAgICAgaWYgKHF1ZXJ5W21ldGhvZF0pIHtcbiAgICAgICAgICAgICAganNvblF1ZXJ5Lmxpc3RlblttZXRob2RdID0ge1xuICAgICAgICAgICAgICAgIGVudGl0aWVzOiBxdWVyeVttZXRob2RdLmxlbmd0aFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGpzb247XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE5vdChDb21wb25lbnQpIHtcbiAgcmV0dXJuIHtcbiAgICBvcGVyYXRvcjogXCJub3RcIixcbiAgICBDb21wb25lbnQ6IENvbXBvbmVudFxuICB9O1xufVxuIiwiaW1wb3J0IHsgbm93IH0gZnJvbSBcIi4vVXRpbHMuanNcIjtcbmltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuL1N5c3RlbS5qc1wiO1xuXG5leHBvcnQgY2xhc3MgU3lzdGVtTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKHdvcmxkKSB7XG4gICAgdGhpcy5fc3lzdGVtcyA9IFtdO1xuICAgIHRoaXMuX2V4ZWN1dGVTeXN0ZW1zID0gW107IC8vIFN5c3RlbXMgdGhhdCBoYXZlIGBleGVjdXRlYCBtZXRob2RcbiAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgdGhpcy5sYXN0RXhlY3V0ZWRTeXN0ZW0gPSBudWxsO1xuICB9XG5cbiAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtQ2xhc3MsIGF0dHJpYnV0ZXMpIHtcbiAgICBpZiAoIShTeXN0ZW1DbGFzcy5wcm90b3R5cGUgaW5zdGFuY2VvZiBTeXN0ZW0pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBTeXN0ZW0gJyR7U3lzdGVtQ2xhc3MubmFtZX0nIGRvZXMgbm90IGV4dGVuZHMgJ1N5c3RlbScgY2xhc3NgXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5nZXRTeXN0ZW0oU3lzdGVtQ2xhc3MpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnNvbGUud2FybihgU3lzdGVtICcke1N5c3RlbUNsYXNzLm5hbWV9JyBhbHJlYWR5IHJlZ2lzdGVyZWQuYCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB2YXIgc3lzdGVtID0gbmV3IFN5c3RlbUNsYXNzKHRoaXMud29ybGQsIGF0dHJpYnV0ZXMpO1xuICAgIGlmIChzeXN0ZW0uaW5pdCkgc3lzdGVtLmluaXQoYXR0cmlidXRlcyk7XG4gICAgc3lzdGVtLm9yZGVyID0gdGhpcy5fc3lzdGVtcy5sZW5ndGg7XG4gICAgdGhpcy5fc3lzdGVtcy5wdXNoKHN5c3RlbSk7XG4gICAgaWYgKHN5c3RlbS5leGVjdXRlKSB7XG4gICAgICB0aGlzLl9leGVjdXRlU3lzdGVtcy5wdXNoKHN5c3RlbSk7XG4gICAgICB0aGlzLnNvcnRTeXN0ZW1zKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdW5yZWdpc3RlclN5c3RlbShTeXN0ZW1DbGFzcykge1xuICAgIGxldCBzeXN0ZW0gPSB0aGlzLmdldFN5c3RlbShTeXN0ZW1DbGFzcyk7XG4gICAgaWYgKHN5c3RlbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGBDYW4gdW5yZWdpc3RlciBzeXN0ZW0gJyR7U3lzdGVtQ2xhc3MubmFtZX0nLiBJdCBkb2Vzbid0IGV4aXN0LmBcbiAgICAgICk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0aGlzLl9zeXN0ZW1zLnNwbGljZSh0aGlzLl9zeXN0ZW1zLmluZGV4T2Yoc3lzdGVtKSwgMSk7XG5cbiAgICBpZiAoc3lzdGVtLmV4ZWN1dGUpIHtcbiAgICAgIHRoaXMuX2V4ZWN1dGVTeXN0ZW1zLnNwbGljZSh0aGlzLl9leGVjdXRlU3lzdGVtcy5pbmRleE9mKHN5c3RlbSksIDEpO1xuICAgIH1cblxuICAgIC8vIEB0b2RvIEFkZCBzeXN0ZW0udW5yZWdpc3RlcigpIGNhbGwgdG8gZnJlZSByZXNvdXJjZXNcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNvcnRTeXN0ZW1zKCkge1xuICAgIHRoaXMuX2V4ZWN1dGVTeXN0ZW1zLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIHJldHVybiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eSB8fCBhLm9yZGVyIC0gYi5vcmRlcjtcbiAgICB9KTtcbiAgfVxuXG4gIGdldFN5c3RlbShTeXN0ZW1DbGFzcykge1xuICAgIHJldHVybiB0aGlzLl9zeXN0ZW1zLmZpbmQocyA9PiBzIGluc3RhbmNlb2YgU3lzdGVtQ2xhc3MpO1xuICB9XG5cbiAgZ2V0U3lzdGVtcygpIHtcbiAgICByZXR1cm4gdGhpcy5fc3lzdGVtcztcbiAgfVxuXG4gIHJlbW92ZVN5c3RlbShTeXN0ZW1DbGFzcykge1xuICAgIHZhciBpbmRleCA9IHRoaXMuX3N5c3RlbXMuaW5kZXhPZihTeXN0ZW1DbGFzcyk7XG4gICAgaWYgKCF+aW5kZXgpIHJldHVybjtcblxuICAgIHRoaXMuX3N5c3RlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuXG4gIGV4ZWN1dGVTeXN0ZW0oc3lzdGVtLCBkZWx0YSwgdGltZSkge1xuICAgIGlmIChzeXN0ZW0uaW5pdGlhbGl6ZWQpIHtcbiAgICAgIGlmIChzeXN0ZW0uY2FuRXhlY3V0ZSgpKSB7XG4gICAgICAgIGxldCBzdGFydFRpbWUgPSBub3coKTtcbiAgICAgICAgc3lzdGVtLmV4ZWN1dGUoZGVsdGEsIHRpbWUpO1xuICAgICAgICBzeXN0ZW0uZXhlY3V0ZVRpbWUgPSBub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgICAgdGhpcy5sYXN0RXhlY3V0ZWRTeXN0ZW0gPSBzeXN0ZW07XG4gICAgICAgIHN5c3RlbS5jbGVhckV2ZW50cygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgdGhpcy5fZXhlY3V0ZVN5c3RlbXMuZm9yRWFjaChzeXN0ZW0gPT4gc3lzdGVtLnN0b3AoKSk7XG4gIH1cblxuICBleGVjdXRlKGRlbHRhLCB0aW1lLCBmb3JjZVBsYXkpIHtcbiAgICB0aGlzLl9leGVjdXRlU3lzdGVtcy5mb3JFYWNoKFxuICAgICAgc3lzdGVtID0+XG4gICAgICAgIChmb3JjZVBsYXkgfHwgc3lzdGVtLmVuYWJsZWQpICYmIHRoaXMuZXhlY3V0ZVN5c3RlbShzeXN0ZW0sIGRlbHRhLCB0aW1lKVxuICAgICk7XG4gIH1cblxuICBzdGF0cygpIHtcbiAgICB2YXIgc3RhdHMgPSB7XG4gICAgICBudW1TeXN0ZW1zOiB0aGlzLl9zeXN0ZW1zLmxlbmd0aCxcbiAgICAgIHN5c3RlbXM6IHt9XG4gICAgfTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fc3lzdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHN5c3RlbSA9IHRoaXMuX3N5c3RlbXNbaV07XG4gICAgICB2YXIgc3lzdGVtU3RhdHMgPSAoc3RhdHMuc3lzdGVtc1tzeXN0ZW0uY29uc3RydWN0b3IubmFtZV0gPSB7XG4gICAgICAgIHF1ZXJpZXM6IHt9LFxuICAgICAgICBleGVjdXRlVGltZTogc3lzdGVtLmV4ZWN1dGVUaW1lXG4gICAgICB9KTtcbiAgICAgIGZvciAodmFyIG5hbWUgaW4gc3lzdGVtLmN0eCkge1xuICAgICAgICBzeXN0ZW1TdGF0cy5xdWVyaWVzW25hbWVdID0gc3lzdGVtLmN0eFtuYW1lXS5zdGF0cygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdGF0cztcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JqZWN0UG9vbCB7XG4gIC8vIEB0b2RvIEFkZCBpbml0aWFsIHNpemVcbiAgY29uc3RydWN0b3IoVCwgaW5pdGlhbFNpemUpIHtcbiAgICB0aGlzLmZyZWVMaXN0ID0gW107XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gICAgdGhpcy5UID0gVDtcbiAgICB0aGlzLmlzT2JqZWN0UG9vbCA9IHRydWU7XG5cbiAgICB2YXIgZXh0cmFBcmdzID0gbnVsbDtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGV4dHJhQXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICBleHRyYUFyZ3Muc2hpZnQoKTtcbiAgICB9XG5cbiAgICB0aGlzLmNyZWF0ZUVsZW1lbnQgPSBleHRyYUFyZ3NcbiAgICAgID8gKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBuZXcgVCguLi5leHRyYUFyZ3MpO1xuICAgICAgICB9XG4gICAgICA6ICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gbmV3IFQoKTtcbiAgICAgICAgfTtcblxuICAgIGlmICh0eXBlb2YgaW5pdGlhbFNpemUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuZXhwYW5kKGluaXRpYWxTaXplKTtcbiAgICB9XG4gIH1cblxuICBhY3F1aXJlKCkge1xuICAgIC8vIEdyb3cgdGhlIGxpc3QgYnkgMjAlaXNoIGlmIHdlJ3JlIG91dFxuICAgIGlmICh0aGlzLmZyZWVMaXN0Lmxlbmd0aCA8PSAwKSB7XG4gICAgICB0aGlzLmV4cGFuZChNYXRoLnJvdW5kKHRoaXMuY291bnQgKiAwLjIpICsgMSk7XG4gICAgfVxuXG4gICAgdmFyIGl0ZW0gPSB0aGlzLmZyZWVMaXN0LnBvcCgpO1xuXG4gICAgcmV0dXJuIGl0ZW07XG4gIH1cblxuICByZWxlYXNlKGl0ZW0pIHtcbiAgICBpdGVtLnJlc2V0KCk7XG4gICAgdGhpcy5mcmVlTGlzdC5wdXNoKGl0ZW0pO1xuICB9XG5cbiAgZXhwYW5kKGNvdW50KSB7XG4gICAgZm9yICh2YXIgbiA9IDA7IG4gPCBjb3VudDsgbisrKSB7XG4gICAgICB0aGlzLmZyZWVMaXN0LnB1c2godGhpcy5jcmVhdGVFbGVtZW50KCkpO1xuICAgIH1cbiAgICB0aGlzLmNvdW50ICs9IGNvdW50O1xuICB9XG5cbiAgdG90YWxTaXplKCkge1xuICAgIHJldHVybiB0aGlzLmNvdW50O1xuICB9XG5cbiAgdG90YWxGcmVlKCkge1xuICAgIHJldHVybiB0aGlzLmZyZWVMaXN0Lmxlbmd0aDtcbiAgfVxuXG4gIHRvdGFsVXNlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb3VudCAtIHRoaXMuZnJlZUxpc3QubGVuZ3RoO1xuICB9XG59XG4iLCJpbXBvcnQgUXVlcnkgZnJvbSBcIi4vUXVlcnkuanNcIjtcbmltcG9ydCB7IHF1ZXJ5S2V5IH0gZnJvbSBcIi4vVXRpbHMuanNcIjtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzIFF1ZXJ5TWFuYWdlclxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBRdWVyeU1hbmFnZXIge1xuICBjb25zdHJ1Y3Rvcih3b3JsZCkge1xuICAgIHRoaXMuX3dvcmxkID0gd29ybGQ7XG5cbiAgICAvLyBRdWVyaWVzIGluZGV4ZWQgYnkgYSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGNvbXBvbmVudHMgaXQgaGFzXG4gICAgdGhpcy5fcXVlcmllcyA9IHt9O1xuICB9XG5cbiAgb25FbnRpdHlSZW1vdmVkKGVudGl0eSkge1xuICAgIGZvciAodmFyIHF1ZXJ5TmFtZSBpbiB0aGlzLl9xdWVyaWVzKSB7XG4gICAgICB2YXIgcXVlcnkgPSB0aGlzLl9xdWVyaWVzW3F1ZXJ5TmFtZV07XG4gICAgICBpZiAoZW50aXR5LnF1ZXJpZXMuaW5kZXhPZihxdWVyeSkgIT09IC0xKSB7XG4gICAgICAgIHF1ZXJ5LnJlbW92ZUVudGl0eShlbnRpdHkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayB3aGVuIGEgY29tcG9uZW50IGlzIGFkZGVkIHRvIGFuIGVudGl0eVxuICAgKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5IEVudGl0eSB0aGF0IGp1c3QgZ290IHRoZSBuZXcgY29tcG9uZW50XG4gICAqIEBwYXJhbSB7Q29tcG9uZW50fSBDb21wb25lbnQgQ29tcG9uZW50IGFkZGVkIHRvIHRoZSBlbnRpdHlcbiAgICovXG4gIG9uRW50aXR5Q29tcG9uZW50QWRkZWQoZW50aXR5LCBDb21wb25lbnQpIHtcbiAgICAvLyBAdG9kbyBVc2UgYml0bWFzayBmb3IgY2hlY2tpbmcgY29tcG9uZW50cz9cblxuICAgIC8vIENoZWNrIGVhY2ggaW5kZXhlZCBxdWVyeSB0byBzZWUgaWYgd2UgbmVlZCB0byBhZGQgdGhpcyBlbnRpdHkgdG8gdGhlIGxpc3RcbiAgICBmb3IgKHZhciBxdWVyeU5hbWUgaW4gdGhpcy5fcXVlcmllcykge1xuICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5fcXVlcmllc1txdWVyeU5hbWVdO1xuXG4gICAgICBpZiAoXG4gICAgICAgICEhfnF1ZXJ5Lk5vdENvbXBvbmVudHMuaW5kZXhPZihDb21wb25lbnQpICYmXG4gICAgICAgIH5xdWVyeS5lbnRpdGllcy5pbmRleE9mKGVudGl0eSlcbiAgICAgICkge1xuICAgICAgICBxdWVyeS5yZW1vdmVFbnRpdHkoZW50aXR5KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCB0aGUgZW50aXR5IG9ubHkgaWY6XG4gICAgICAvLyBDb21wb25lbnQgaXMgaW4gdGhlIHF1ZXJ5XG4gICAgICAvLyBhbmQgRW50aXR5IGhhcyBBTEwgdGhlIGNvbXBvbmVudHMgb2YgdGhlIHF1ZXJ5XG4gICAgICAvLyBhbmQgRW50aXR5IGlzIG5vdCBhbHJlYWR5IGluIHRoZSBxdWVyeVxuICAgICAgaWYgKFxuICAgICAgICAhfnF1ZXJ5LkNvbXBvbmVudHMuaW5kZXhPZihDb21wb25lbnQpIHx8XG4gICAgICAgICFxdWVyeS5tYXRjaChlbnRpdHkpIHx8XG4gICAgICAgIH5xdWVyeS5lbnRpdGllcy5pbmRleE9mKGVudGl0eSlcbiAgICAgIClcbiAgICAgICAgY29udGludWU7XG5cbiAgICAgIHF1ZXJ5LmFkZEVudGl0eShlbnRpdHkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayB3aGVuIGEgY29tcG9uZW50IGlzIHJlbW92ZWQgZnJvbSBhbiBlbnRpdHlcbiAgICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSBFbnRpdHkgdG8gcmVtb3ZlIHRoZSBjb21wb25lbnQgZnJvbVxuICAgKiBAcGFyYW0ge0NvbXBvbmVudH0gQ29tcG9uZW50IENvbXBvbmVudCB0byByZW1vdmUgZnJvbSB0aGUgZW50aXR5XG4gICAqL1xuICBvbkVudGl0eUNvbXBvbmVudFJlbW92ZWQoZW50aXR5LCBDb21wb25lbnQpIHtcbiAgICBmb3IgKHZhciBxdWVyeU5hbWUgaW4gdGhpcy5fcXVlcmllcykge1xuICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5fcXVlcmllc1txdWVyeU5hbWVdO1xuXG4gICAgICBpZiAoXG4gICAgICAgICEhfnF1ZXJ5Lk5vdENvbXBvbmVudHMuaW5kZXhPZihDb21wb25lbnQpICYmXG4gICAgICAgICF+cXVlcnkuZW50aXRpZXMuaW5kZXhPZihlbnRpdHkpICYmXG4gICAgICAgIHF1ZXJ5Lm1hdGNoKGVudGl0eSlcbiAgICAgICkge1xuICAgICAgICBxdWVyeS5hZGRFbnRpdHkoZW50aXR5KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgISF+cXVlcnkuQ29tcG9uZW50cy5pbmRleE9mKENvbXBvbmVudCkgJiZcbiAgICAgICAgISF+cXVlcnkuZW50aXRpZXMuaW5kZXhPZihlbnRpdHkpICYmXG4gICAgICAgICFxdWVyeS5tYXRjaChlbnRpdHkpXG4gICAgICApIHtcbiAgICAgICAgcXVlcnkucmVtb3ZlRW50aXR5KGVudGl0eSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBxdWVyeSBmb3IgdGhlIHNwZWNpZmllZCBjb21wb25lbnRzXG4gICAqIEBwYXJhbSB7Q29tcG9uZW50fSBDb21wb25lbnRzIENvbXBvbmVudHMgdGhhdCB0aGUgcXVlcnkgc2hvdWxkIGhhdmVcbiAgICovXG4gIGdldFF1ZXJ5KENvbXBvbmVudHMpIHtcbiAgICB2YXIga2V5ID0gcXVlcnlLZXkoQ29tcG9uZW50cyk7XG4gICAgdmFyIHF1ZXJ5ID0gdGhpcy5fcXVlcmllc1trZXldO1xuICAgIGlmICghcXVlcnkpIHtcbiAgICAgIHRoaXMuX3F1ZXJpZXNba2V5XSA9IHF1ZXJ5ID0gbmV3IFF1ZXJ5KENvbXBvbmVudHMsIHRoaXMuX3dvcmxkKTtcbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJ5O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBzb21lIHN0YXRzIGZyb20gdGhpcyBjbGFzc1xuICAgKi9cbiAgc3RhdHMoKSB7XG4gICAgdmFyIHN0YXRzID0ge307XG4gICAgZm9yICh2YXIgcXVlcnlOYW1lIGluIHRoaXMuX3F1ZXJpZXMpIHtcbiAgICAgIHN0YXRzW3F1ZXJ5TmFtZV0gPSB0aGlzLl9xdWVyaWVzW3F1ZXJ5TmFtZV0uc3RhdHMoKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRzO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgU3lzdGVtU3RhdGVDb21wb25lbnQge31cblxuU3lzdGVtU3RhdGVDb21wb25lbnQuaXNTeXN0ZW1TdGF0ZUNvbXBvbmVudCA9IHRydWU7XG4iLCJpbXBvcnQgT2JqZWN0UG9vbCBmcm9tIFwiLi9PYmplY3RQb29sLmpzXCI7XG5pbXBvcnQgUXVlcnlNYW5hZ2VyIGZyb20gXCIuL1F1ZXJ5TWFuYWdlci5qc1wiO1xuaW1wb3J0IEV2ZW50RGlzcGF0Y2hlciBmcm9tIFwiLi9FdmVudERpc3BhdGNoZXIuanNcIjtcbmltcG9ydCB7IGNvbXBvbmVudFByb3BlcnR5TmFtZSwgZ2V0TmFtZSB9IGZyb20gXCIuL1V0aWxzLmpzXCI7XG5pbXBvcnQgeyBTeXN0ZW1TdGF0ZUNvbXBvbmVudCB9IGZyb20gXCIuL1N5c3RlbVN0YXRlQ29tcG9uZW50LmpzXCI7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBjbGFzcyBFbnRpdHlNYW5hZ2VyXG4gKi9cbmV4cG9ydCBjbGFzcyBFbnRpdHlNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3Iod29ybGQpIHtcbiAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgdGhpcy5jb21wb25lbnRzTWFuYWdlciA9IHdvcmxkLmNvbXBvbmVudHNNYW5hZ2VyO1xuXG4gICAgLy8gQWxsIHRoZSBlbnRpdGllcyBpbiB0aGlzIGluc3RhbmNlXG4gICAgdGhpcy5fZW50aXRpZXMgPSBbXTtcblxuICAgIHRoaXMuX2VudGl0aWVzQnlOYW1lcyA9IHt9O1xuXG4gICAgdGhpcy5fcXVlcnlNYW5hZ2VyID0gbmV3IFF1ZXJ5TWFuYWdlcih0aGlzKTtcbiAgICB0aGlzLmV2ZW50RGlzcGF0Y2hlciA9IG5ldyBFdmVudERpc3BhdGNoZXIoKTtcbiAgICB0aGlzLl9lbnRpdHlQb29sID0gbmV3IE9iamVjdFBvb2woXG4gICAgICB0aGlzLndvcmxkLm9wdGlvbnMuZW50aXR5Q2xhc3MsXG4gICAgICB0aGlzLndvcmxkLm9wdGlvbnMuZW50aXR5UG9vbFNpemVcbiAgICApO1xuXG4gICAgLy8gRGVmZXJyZWQgZGVsZXRpb25cbiAgICB0aGlzLmVudGl0aWVzV2l0aENvbXBvbmVudHNUb1JlbW92ZSA9IFtdO1xuICAgIHRoaXMuZW50aXRpZXNUb1JlbW92ZSA9IFtdO1xuICAgIHRoaXMuZGVmZXJyZWRSZW1vdmFsRW5hYmxlZCA9IHRydWU7XG4gIH1cblxuICBnZXRFbnRpdHlCeU5hbWUobmFtZSkge1xuICAgIHJldHVybiB0aGlzLl9lbnRpdGllc0J5TmFtZXNbbmFtZV07XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGVudGl0eVxuICAgKi9cbiAgY3JlYXRlRW50aXR5KG5hbWUpIHtcbiAgICB2YXIgZW50aXR5ID0gdGhpcy5fZW50aXR5UG9vbC5hY3F1aXJlKCk7XG4gICAgZW50aXR5LmFsaXZlID0gdHJ1ZTtcbiAgICBlbnRpdHkubmFtZSA9IG5hbWUgfHwgXCJcIjtcbiAgICBpZiAobmFtZSkge1xuICAgICAgaWYgKHRoaXMuX2VudGl0aWVzQnlOYW1lc1tuYW1lXSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYEVudGl0eSBuYW1lICcke25hbWV9JyBhbHJlYWR5IGV4aXN0YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9lbnRpdGllc0J5TmFtZXNbbmFtZV0gPSBlbnRpdHk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZW50aXR5Ll93b3JsZCA9IHRoaXM7XG4gICAgdGhpcy5fZW50aXRpZXMucHVzaChlbnRpdHkpO1xuICAgIHRoaXMuZXZlbnREaXNwYXRjaGVyLmRpc3BhdGNoRXZlbnQoRU5USVRZX0NSRUFURUQsIGVudGl0eSk7XG4gICAgcmV0dXJuIGVudGl0eTtcbiAgfVxuXG4gIC8vIENPTVBPTkVOVFNcblxuICAvKipcbiAgICogQWRkIGEgY29tcG9uZW50IHRvIGFuIGVudGl0eVxuICAgKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5IEVudGl0eSB3aGVyZSB0aGUgY29tcG9uZW50IHdpbGwgYmUgYWRkZWRcbiAgICogQHBhcmFtIHtDb21wb25lbnR9IENvbXBvbmVudCBDb21wb25lbnQgdG8gYmUgYWRkZWQgdG8gdGhlIGVudGl0eVxuICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWVzIE9wdGlvbmFsIHZhbHVlcyB0byByZXBsYWNlIHRoZSBkZWZhdWx0IGF0dHJpYnV0ZXNcbiAgICovXG4gIGVudGl0eUFkZENvbXBvbmVudChlbnRpdHksIENvbXBvbmVudCwgdmFsdWVzKSB7XG4gICAgaWYgKH5lbnRpdHkuX0NvbXBvbmVudFR5cGVzLmluZGV4T2YoQ29tcG9uZW50KSkge1xuICAgICAgLy8gQHRvZG8gSnVzdCBvbiBkZWJ1ZyBtb2RlXG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiQ29tcG9uZW50IHR5cGUgYWxyZWFkeSBleGlzdHMgb24gZW50aXR5LlwiLFxuICAgICAgICBlbnRpdHksXG4gICAgICAgIENvbXBvbmVudC5uYW1lXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVudGl0eS5fQ29tcG9uZW50VHlwZXMucHVzaChDb21wb25lbnQpO1xuXG4gICAgaWYgKENvbXBvbmVudC5fX3Byb3RvX18gPT09IFN5c3RlbVN0YXRlQ29tcG9uZW50KSB7XG4gICAgICBlbnRpdHkubnVtU3RhdGVDb21wb25lbnRzKys7XG4gICAgfVxuXG4gICAgdmFyIGNvbXBvbmVudFBvb2wgPSB0aGlzLndvcmxkLmNvbXBvbmVudHNNYW5hZ2VyLmdldENvbXBvbmVudHNQb29sKFxuICAgICAgQ29tcG9uZW50XG4gICAgKTtcbiAgICB2YXIgY29tcG9uZW50ID0gY29tcG9uZW50UG9vbC5hY3F1aXJlKCk7XG5cbiAgICBlbnRpdHkuX2NvbXBvbmVudHNbQ29tcG9uZW50Lm5hbWVdID0gY29tcG9uZW50O1xuXG4gICAgaWYgKHZhbHVlcykge1xuICAgICAgaWYgKGNvbXBvbmVudC5jb3B5KSB7XG4gICAgICAgIGNvbXBvbmVudC5jb3B5KHZhbHVlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHZhbHVlcykge1xuICAgICAgICAgIGNvbXBvbmVudFtuYW1lXSA9IHZhbHVlc1tuYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX3F1ZXJ5TWFuYWdlci5vbkVudGl0eUNvbXBvbmVudEFkZGVkKGVudGl0eSwgQ29tcG9uZW50KTtcbiAgICB0aGlzLndvcmxkLmNvbXBvbmVudHNNYW5hZ2VyLmNvbXBvbmVudEFkZGVkVG9FbnRpdHkoQ29tcG9uZW50KTtcblxuICAgIHRoaXMuZXZlbnREaXNwYXRjaGVyLmRpc3BhdGNoRXZlbnQoQ09NUE9ORU5UX0FEREVELCBlbnRpdHksIENvbXBvbmVudCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgY29tcG9uZW50IGZyb20gYW4gZW50aXR5XG4gICAqIEBwYXJhbSB7RW50aXR5fSBlbnRpdHkgRW50aXR5IHdoaWNoIHdpbGwgZ2V0IHJlbW92ZWQgdGhlIGNvbXBvbmVudFxuICAgKiBAcGFyYW0geyp9IENvbXBvbmVudCBDb21wb25lbnQgdG8gcmVtb3ZlIGZyb20gdGhlIGVudGl0eVxuICAgKiBAcGFyYW0ge0Jvb2x9IGltbWVkaWF0ZWx5IElmIHlvdSB3YW50IHRvIHJlbW92ZSB0aGUgY29tcG9uZW50IGltbWVkaWF0ZWx5IGluc3RlYWQgb2YgZGVmZXJyZWQgKERlZmF1bHQgaXMgZmFsc2UpXG4gICAqL1xuICBlbnRpdHlSZW1vdmVDb21wb25lbnQoZW50aXR5LCBDb21wb25lbnQsIGltbWVkaWF0ZWx5KSB7XG4gICAgdmFyIGluZGV4ID0gZW50aXR5Ll9Db21wb25lbnRUeXBlcy5pbmRleE9mKENvbXBvbmVudCk7XG4gICAgaWYgKCF+aW5kZXgpIHJldHVybjtcblxuICAgIHRoaXMuZXZlbnREaXNwYXRjaGVyLmRpc3BhdGNoRXZlbnQoQ09NUE9ORU5UX1JFTU9WRSwgZW50aXR5LCBDb21wb25lbnQpO1xuXG4gICAgaWYgKGltbWVkaWF0ZWx5KSB7XG4gICAgICB0aGlzLl9lbnRpdHlSZW1vdmVDb21wb25lbnRTeW5jKGVudGl0eSwgQ29tcG9uZW50LCBpbmRleCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChlbnRpdHkuX0NvbXBvbmVudFR5cGVzVG9SZW1vdmUubGVuZ3RoID09PSAwKVxuICAgICAgICB0aGlzLmVudGl0aWVzV2l0aENvbXBvbmVudHNUb1JlbW92ZS5wdXNoKGVudGl0eSk7XG5cbiAgICAgIGVudGl0eS5fQ29tcG9uZW50VHlwZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIGVudGl0eS5fQ29tcG9uZW50VHlwZXNUb1JlbW92ZS5wdXNoKENvbXBvbmVudCk7XG5cbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0TmFtZShDb21wb25lbnQpO1xuICAgICAgZW50aXR5Ll9jb21wb25lbnRzVG9SZW1vdmVbY29tcG9uZW50TmFtZV0gPVxuICAgICAgICBlbnRpdHkuX2NvbXBvbmVudHNbY29tcG9uZW50TmFtZV07XG4gICAgICBkZWxldGUgZW50aXR5Ll9jb21wb25lbnRzW2NvbXBvbmVudE5hbWVdO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGVhY2ggaW5kZXhlZCBxdWVyeSB0byBzZWUgaWYgd2UgbmVlZCB0byByZW1vdmUgaXRcbiAgICB0aGlzLl9xdWVyeU1hbmFnZXIub25FbnRpdHlDb21wb25lbnRSZW1vdmVkKGVudGl0eSwgQ29tcG9uZW50KTtcblxuICAgIGlmIChDb21wb25lbnQuX19wcm90b19fID09PSBTeXN0ZW1TdGF0ZUNvbXBvbmVudCkge1xuICAgICAgZW50aXR5Lm51bVN0YXRlQ29tcG9uZW50cy0tO1xuXG4gICAgICAvLyBDaGVjayBpZiB0aGUgZW50aXR5IHdhcyBhIGdob3N0IHdhaXRpbmcgZm9yIHRoZSBsYXN0IHN5c3RlbSBzdGF0ZSBjb21wb25lbnQgdG8gYmUgcmVtb3ZlZFxuICAgICAgaWYgKGVudGl0eS5udW1TdGF0ZUNvbXBvbmVudHMgPT09IDAgJiYgIWVudGl0eS5hbGl2ZSkge1xuICAgICAgICBlbnRpdHkucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2VudGl0eVJlbW92ZUNvbXBvbmVudFN5bmMoZW50aXR5LCBDb21wb25lbnQsIGluZGV4KSB7XG4gICAgLy8gUmVtb3ZlIFQgbGlzdGluZyBvbiBlbnRpdHkgYW5kIHByb3BlcnR5IHJlZiwgdGhlbiBmcmVlIHRoZSBjb21wb25lbnQuXG4gICAgZW50aXR5Ll9Db21wb25lbnRUeXBlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHZhciBwcm9wTmFtZSA9IGNvbXBvbmVudFByb3BlcnR5TmFtZShDb21wb25lbnQpO1xuICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0TmFtZShDb21wb25lbnQpO1xuICAgIHZhciBjb21wb25lbnQgPSBlbnRpdHkuX2NvbXBvbmVudHNbY29tcG9uZW50TmFtZV07XG4gICAgZGVsZXRlIGVudGl0eS5fY29tcG9uZW50c1tjb21wb25lbnROYW1lXTtcbiAgICB0aGlzLmNvbXBvbmVudHNNYW5hZ2VyLl9jb21wb25lbnRQb29sW3Byb3BOYW1lXS5yZWxlYXNlKGNvbXBvbmVudCk7XG4gICAgdGhpcy53b3JsZC5jb21wb25lbnRzTWFuYWdlci5jb21wb25lbnRSZW1vdmVkRnJvbUVudGl0eShDb21wb25lbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbGwgdGhlIGNvbXBvbmVudHMgZnJvbSBhbiBlbnRpdHlcbiAgICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSBFbnRpdHkgZnJvbSB3aGljaCB0aGUgY29tcG9uZW50cyB3aWxsIGJlIHJlbW92ZWRcbiAgICovXG4gIGVudGl0eVJlbW92ZUFsbENvbXBvbmVudHMoZW50aXR5LCBpbW1lZGlhdGVseSkge1xuICAgIGxldCBDb21wb25lbnRzID0gZW50aXR5Ll9Db21wb25lbnRUeXBlcztcblxuICAgIGZvciAobGV0IGogPSBDb21wb25lbnRzLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICBpZiAoQ29tcG9uZW50c1tqXS5fX3Byb3RvX18gIT09IFN5c3RlbVN0YXRlQ29tcG9uZW50KVxuICAgICAgICB0aGlzLmVudGl0eVJlbW92ZUNvbXBvbmVudChlbnRpdHksIENvbXBvbmVudHNbal0sIGltbWVkaWF0ZWx5KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBlbnRpdHkgZnJvbSB0aGlzIG1hbmFnZXIuIEl0IHdpbGwgY2xlYXIgYWxzbyBpdHMgY29tcG9uZW50c1xuICAgKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5IEVudGl0eSB0byByZW1vdmUgZnJvbSB0aGUgbWFuYWdlclxuICAgKiBAcGFyYW0ge0Jvb2x9IGltbWVkaWF0ZWx5IElmIHlvdSB3YW50IHRvIHJlbW92ZSB0aGUgY29tcG9uZW50IGltbWVkaWF0ZWx5IGluc3RlYWQgb2YgZGVmZXJyZWQgKERlZmF1bHQgaXMgZmFsc2UpXG4gICAqL1xuICByZW1vdmVFbnRpdHkoZW50aXR5LCBpbW1lZGlhdGVseSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMuX2VudGl0aWVzLmluZGV4T2YoZW50aXR5KTtcblxuICAgIGlmICghfmluZGV4KSB0aHJvdyBuZXcgRXJyb3IoXCJUcmllZCB0byByZW1vdmUgZW50aXR5IG5vdCBpbiBsaXN0XCIpO1xuXG4gICAgZW50aXR5LmFsaXZlID0gZmFsc2U7XG5cbiAgICBpZiAoZW50aXR5Lm51bVN0YXRlQ29tcG9uZW50cyA9PT0gMCkge1xuICAgICAgLy8gUmVtb3ZlIGZyb20gZW50aXR5IGxpc3RcbiAgICAgIHRoaXMuZXZlbnREaXNwYXRjaGVyLmRpc3BhdGNoRXZlbnQoRU5USVRZX1JFTU9WRUQsIGVudGl0eSk7XG4gICAgICB0aGlzLl9xdWVyeU1hbmFnZXIub25FbnRpdHlSZW1vdmVkKGVudGl0eSk7XG4gICAgICBpZiAoaW1tZWRpYXRlbHkgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5fcmVsZWFzZUVudGl0eShlbnRpdHksIGluZGV4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZW50aXRpZXNUb1JlbW92ZS5wdXNoKGVudGl0eSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5lbnRpdHlSZW1vdmVBbGxDb21wb25lbnRzKGVudGl0eSwgaW1tZWRpYXRlbHkpO1xuICB9XG5cbiAgX3JlbGVhc2VFbnRpdHkoZW50aXR5LCBpbmRleCkge1xuICAgIHRoaXMuX2VudGl0aWVzLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICBpZiAodGhpcy5fZW50aXRpZXNCeU5hbWVzW2VudGl0eS5uYW1lXSkge1xuICAgICAgZGVsZXRlIHRoaXMuX2VudGl0aWVzQnlOYW1lc1tlbnRpdHkubmFtZV07XG4gICAgfVxuXG4gICAgLy8gUHJldmVudCBhbnkgYWNjZXNzIGFuZCBmcmVlXG4gICAgZW50aXR5Ll93b3JsZCA9IG51bGw7XG4gICAgdGhpcy5fZW50aXR5UG9vbC5yZWxlYXNlKGVudGl0eSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFsbCBlbnRpdGllcyBmcm9tIHRoaXMgbWFuYWdlclxuICAgKi9cbiAgcmVtb3ZlQWxsRW50aXRpZXMoKSB7XG4gICAgZm9yICh2YXIgaSA9IHRoaXMuX2VudGl0aWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB0aGlzLnJlbW92ZUVudGl0eSh0aGlzLl9lbnRpdGllc1tpXSk7XG4gICAgfVxuICB9XG5cbiAgcHJvY2Vzc0RlZmVycmVkUmVtb3ZhbCgpIHtcbiAgICBpZiAoIXRoaXMuZGVmZXJyZWRSZW1vdmFsRW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5lbnRpdGllc1RvUmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZW50aXR5ID0gdGhpcy5lbnRpdGllc1RvUmVtb3ZlW2ldO1xuICAgICAgbGV0IGluZGV4ID0gdGhpcy5fZW50aXRpZXMuaW5kZXhPZihlbnRpdHkpO1xuICAgICAgdGhpcy5fcmVsZWFzZUVudGl0eShlbnRpdHksIGluZGV4KTtcbiAgICB9XG4gICAgdGhpcy5lbnRpdGllc1RvUmVtb3ZlLmxlbmd0aCA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZW50aXRpZXNXaXRoQ29tcG9uZW50c1RvUmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZW50aXR5ID0gdGhpcy5lbnRpdGllc1dpdGhDb21wb25lbnRzVG9SZW1vdmVbaV07XG4gICAgICB3aGlsZSAoZW50aXR5Ll9Db21wb25lbnRUeXBlc1RvUmVtb3ZlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbGV0IENvbXBvbmVudCA9IGVudGl0eS5fQ29tcG9uZW50VHlwZXNUb1JlbW92ZS5wb3AoKTtcblxuICAgICAgICB2YXIgcHJvcE5hbWUgPSBjb21wb25lbnRQcm9wZXJ0eU5hbWUoQ29tcG9uZW50KTtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXROYW1lKENvbXBvbmVudCk7XG4gICAgICAgIHZhciBjb21wb25lbnQgPSBlbnRpdHkuX2NvbXBvbmVudHNUb1JlbW92ZVtjb21wb25lbnROYW1lXTtcbiAgICAgICAgZGVsZXRlIGVudGl0eS5fY29tcG9uZW50c1RvUmVtb3ZlW2NvbXBvbmVudE5hbWVdO1xuICAgICAgICB0aGlzLmNvbXBvbmVudHNNYW5hZ2VyLl9jb21wb25lbnRQb29sW3Byb3BOYW1lXS5yZWxlYXNlKGNvbXBvbmVudCk7XG4gICAgICAgIHRoaXMud29ybGQuY29tcG9uZW50c01hbmFnZXIuY29tcG9uZW50UmVtb3ZlZEZyb21FbnRpdHkoQ29tcG9uZW50KTtcblxuICAgICAgICAvL3RoaXMuX2VudGl0eVJlbW92ZUNvbXBvbmVudFN5bmMoZW50aXR5LCBDb21wb25lbnQsIGluZGV4KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmVudGl0aWVzV2l0aENvbXBvbmVudHNUb1JlbW92ZS5sZW5ndGggPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHF1ZXJ5IGJhc2VkIG9uIGEgbGlzdCBvZiBjb21wb25lbnRzXG4gICAqIEBwYXJhbSB7QXJyYXkoQ29tcG9uZW50KX0gQ29tcG9uZW50cyBMaXN0IG9mIGNvbXBvbmVudHMgdGhhdCB3aWxsIGZvcm0gdGhlIHF1ZXJ5XG4gICAqL1xuICBxdWVyeUNvbXBvbmVudHMoQ29tcG9uZW50cykge1xuICAgIHJldHVybiB0aGlzLl9xdWVyeU1hbmFnZXIuZ2V0UXVlcnkoQ29tcG9uZW50cyk7XG4gIH1cblxuICAvLyBFWFRSQVNcblxuICAvKipcbiAgICogUmV0dXJuIG51bWJlciBvZiBlbnRpdGllc1xuICAgKi9cbiAgY291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VudGl0aWVzLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gc29tZSBzdGF0c1xuICAgKi9cbiAgc3RhdHMoKSB7XG4gICAgdmFyIHN0YXRzID0ge1xuICAgICAgbnVtRW50aXRpZXM6IHRoaXMuX2VudGl0aWVzLmxlbmd0aCxcbiAgICAgIG51bVF1ZXJpZXM6IE9iamVjdC5rZXlzKHRoaXMuX3F1ZXJ5TWFuYWdlci5fcXVlcmllcykubGVuZ3RoLFxuICAgICAgcXVlcmllczogdGhpcy5fcXVlcnlNYW5hZ2VyLnN0YXRzKCksXG4gICAgICBudW1Db21wb25lbnRQb29sOiBPYmplY3Qua2V5cyh0aGlzLmNvbXBvbmVudHNNYW5hZ2VyLl9jb21wb25lbnRQb29sKVxuICAgICAgICAubGVuZ3RoLFxuICAgICAgY29tcG9uZW50UG9vbDoge30sXG4gICAgICBldmVudERpc3BhdGNoZXI6IHRoaXMuZXZlbnREaXNwYXRjaGVyLnN0YXRzXG4gICAgfTtcblxuICAgIGZvciAodmFyIGNuYW1lIGluIHRoaXMuY29tcG9uZW50c01hbmFnZXIuX2NvbXBvbmVudFBvb2wpIHtcbiAgICAgIHZhciBwb29sID0gdGhpcy5jb21wb25lbnRzTWFuYWdlci5fY29tcG9uZW50UG9vbFtjbmFtZV07XG4gICAgICBzdGF0cy5jb21wb25lbnRQb29sW2NuYW1lXSA9IHtcbiAgICAgICAgdXNlZDogcG9vbC50b3RhbFVzZWQoKSxcbiAgICAgICAgc2l6ZTogcG9vbC5jb3VudFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RhdHM7XG4gIH1cbn1cblxuY29uc3QgRU5USVRZX0NSRUFURUQgPSBcIkVudGl0eU1hbmFnZXIjRU5USVRZX0NSRUFURVwiO1xuY29uc3QgRU5USVRZX1JFTU9WRUQgPSBcIkVudGl0eU1hbmFnZXIjRU5USVRZX1JFTU9WRURcIjtcbmNvbnN0IENPTVBPTkVOVF9BRERFRCA9IFwiRW50aXR5TWFuYWdlciNDT01QT05FTlRfQURERURcIjtcbmNvbnN0IENPTVBPTkVOVF9SRU1PVkUgPSBcIkVudGl0eU1hbmFnZXIjQ09NUE9ORU5UX1JFTU9WRVwiO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHVtbXlPYmplY3RQb29sIHtcbiAgY29uc3RydWN0b3IoVCkge1xuICAgIHRoaXMuaXNEdW1teU9iamVjdFBvb2wgPSB0cnVlO1xuICAgIHRoaXMuY291bnQgPSAwO1xuICAgIHRoaXMudXNlZCA9IDA7XG4gICAgdGhpcy5UID0gVDtcbiAgfVxuXG4gIGFjcXVpcmUoKSB7XG4gICAgdGhpcy51c2VkKys7XG4gICAgdGhpcy5jb3VudCsrO1xuICAgIHJldHVybiBuZXcgdGhpcy5UKCk7XG4gIH1cblxuICByZWxlYXNlKCkge1xuICAgIHRoaXMudXNlZC0tO1xuICB9XG5cbiAgdG90YWxTaXplKCkge1xuICAgIHJldHVybiB0aGlzLmNvdW50O1xuICB9XG5cbiAgdG90YWxGcmVlKCkge1xuICAgIHJldHVybiBJbmZpbml0eTtcbiAgfVxuXG4gIHRvdGFsVXNlZCgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VkO1xuICB9XG59XG4iLCJpbXBvcnQgT2JqZWN0UG9vbCBmcm9tIFwiLi9PYmplY3RQb29sLmpzXCI7XG5pbXBvcnQgRHVtbXlPYmplY3RQb29sIGZyb20gXCIuL0R1bW15T2JqZWN0UG9vbC5qc1wiO1xuaW1wb3J0IHsgY29tcG9uZW50UHJvcGVydHlOYW1lIH0gZnJvbSBcIi4vVXRpbHMuanNcIjtcblxuZXhwb3J0IGNsYXNzIENvbXBvbmVudE1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLkNvbXBvbmVudHMgPSB7fTtcbiAgICB0aGlzLl9jb21wb25lbnRQb29sID0ge307XG4gICAgdGhpcy5udW1Db21wb25lbnRzID0ge307XG4gIH1cblxuICByZWdpc3RlckNvbXBvbmVudChDb21wb25lbnQpIHtcbiAgICBpZiAodGhpcy5Db21wb25lbnRzW0NvbXBvbmVudC5uYW1lXSkge1xuICAgICAgY29uc29sZS53YXJuKGBDb21wb25lbnQgdHlwZTogJyR7Q29tcG9uZW50Lm5hbWV9JyBhbHJlYWR5IHJlZ2lzdGVyZWQuYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5Db21wb25lbnRzW0NvbXBvbmVudC5uYW1lXSA9IENvbXBvbmVudDtcbiAgICB0aGlzLm51bUNvbXBvbmVudHNbQ29tcG9uZW50Lm5hbWVdID0gMDtcbiAgfVxuXG4gIGNvbXBvbmVudEFkZGVkVG9FbnRpdHkoQ29tcG9uZW50KSB7XG4gICAgaWYgKCF0aGlzLkNvbXBvbmVudHNbQ29tcG9uZW50Lm5hbWVdKSB7XG4gICAgICB0aGlzLnJlZ2lzdGVyQ29tcG9uZW50KENvbXBvbmVudCk7XG4gICAgfVxuXG4gICAgdGhpcy5udW1Db21wb25lbnRzW0NvbXBvbmVudC5uYW1lXSsrO1xuICB9XG5cbiAgY29tcG9uZW50UmVtb3ZlZEZyb21FbnRpdHkoQ29tcG9uZW50KSB7XG4gICAgdGhpcy5udW1Db21wb25lbnRzW0NvbXBvbmVudC5uYW1lXS0tO1xuICB9XG5cbiAgZ2V0Q29tcG9uZW50c1Bvb2woQ29tcG9uZW50KSB7XG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnRQcm9wZXJ0eU5hbWUoQ29tcG9uZW50KTtcblxuICAgIGlmICghdGhpcy5fY29tcG9uZW50UG9vbFtjb21wb25lbnROYW1lXSkge1xuICAgICAgaWYgKENvbXBvbmVudC5wcm90b3R5cGUucmVzZXQpIHtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50UG9vbFtjb21wb25lbnROYW1lXSA9IG5ldyBPYmplY3RQb29sKENvbXBvbmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgYENvbXBvbmVudCAnJHtDb21wb25lbnQubmFtZX0nIHdvbid0IGJlbmVmaXQgZnJvbSBwb29saW5nIGJlY2F1c2UgJ3Jlc2V0JyBtZXRob2Qgd2FzIG5vdCBpbXBsZW1lbnRlZC5gXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudFBvb2xbY29tcG9uZW50TmFtZV0gPSBuZXcgRHVtbXlPYmplY3RQb29sKENvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudFBvb2xbY29tcG9uZW50TmFtZV07XG4gIH1cbn1cbiIsImltcG9ydCBwanNvbiBmcm9tIFwiLi4vcGFja2FnZS5qc29uXCI7XG5leHBvcnQgY29uc3QgVmVyc2lvbiA9IHBqc29uLnZlcnNpb247XG4iLCJpbXBvcnQgUXVlcnkgZnJvbSBcIi4vUXVlcnkuanNcIjtcbmltcG9ydCB3cmFwSW1tdXRhYmxlQ29tcG9uZW50IGZyb20gXCIuL1dyYXBJbW11dGFibGVDb21wb25lbnQuanNcIjtcblxuLy8gQHRvZG8gVGFrZSB0aGlzIG91dCBmcm9tIHRoZXJlIG9yIHVzZSBFTlZcbmNvbnN0IERFQlVHID0gZmFsc2U7XG5cbnZhciBuZXh0SWQgPSAwO1xuXG5leHBvcnQgY2xhc3MgRW50aXR5IHtcbiAgY29uc3RydWN0b3Iod29ybGQpIHtcbiAgICB0aGlzLl93b3JsZCA9IHdvcmxkIHx8IG51bGw7XG5cbiAgICAvLyBVbmlxdWUgSUQgZm9yIHRoaXMgZW50aXR5XG4gICAgdGhpcy5pZCA9IG5leHRJZCsrO1xuXG4gICAgLy8gTGlzdCBvZiBjb21wb25lbnRzIHR5cGVzIHRoZSBlbnRpdHkgaGFzXG4gICAgdGhpcy5fQ29tcG9uZW50VHlwZXMgPSBbXTtcblxuICAgIC8vIEluc3RhbmNlIG9mIHRoZSBjb21wb25lbnRzXG4gICAgdGhpcy5fY29tcG9uZW50cyA9IHt9O1xuXG4gICAgdGhpcy5fY29tcG9uZW50c1RvUmVtb3ZlID0ge307XG5cbiAgICAvLyBRdWVyaWVzIHdoZXJlIHRoZSBlbnRpdHkgaXMgYWRkZWRcbiAgICB0aGlzLnF1ZXJpZXMgPSBbXTtcblxuICAgIC8vIFVzZWQgZm9yIGRlZmVycmVkIHJlbW92YWxcbiAgICB0aGlzLl9Db21wb25lbnRUeXBlc1RvUmVtb3ZlID0gW107XG5cbiAgICB0aGlzLmFsaXZlID0gZmFsc2U7XG5cbiAgICAvL2lmIHRoZXJlIGFyZSBzdGF0ZSBjb21wb25lbnRzIG9uIGEgZW50aXR5LCBpdCBjYW4ndCBiZSByZW1vdmVkIGNvbXBsZXRlbHlcbiAgICB0aGlzLm51bVN0YXRlQ29tcG9uZW50cyA9IDA7XG4gIH1cblxuICAvLyBDT01QT05FTlRTXG5cbiAgZ2V0Q29tcG9uZW50KENvbXBvbmVudCwgaW5jbHVkZVJlbW92ZWQpIHtcbiAgICB2YXIgY29tcG9uZW50ID0gdGhpcy5fY29tcG9uZW50c1tDb21wb25lbnQubmFtZV07XG5cbiAgICBpZiAoIWNvbXBvbmVudCAmJiBpbmNsdWRlUmVtb3ZlZCA9PT0gdHJ1ZSkge1xuICAgICAgY29tcG9uZW50ID0gdGhpcy5fY29tcG9uZW50c1RvUmVtb3ZlW0NvbXBvbmVudC5uYW1lXTtcbiAgICB9XG5cbiAgICByZXR1cm4gREVCVUcgPyB3cmFwSW1tdXRhYmxlQ29tcG9uZW50KENvbXBvbmVudCwgY29tcG9uZW50KSA6IGNvbXBvbmVudDtcbiAgfVxuXG4gIGdldFJlbW92ZWRDb21wb25lbnQoQ29tcG9uZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudHNUb1JlbW92ZVtDb21wb25lbnQubmFtZV07XG4gIH1cblxuICBnZXRDb21wb25lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLl9jb21wb25lbnRzO1xuICB9XG5cbiAgZ2V0Q29tcG9uZW50c1RvUmVtb3ZlKCkge1xuICAgIHJldHVybiB0aGlzLl9jb21wb25lbnRzVG9SZW1vdmU7XG4gIH1cblxuICBnZXRDb21wb25lbnRUeXBlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fQ29tcG9uZW50VHlwZXM7XG4gIH1cblxuICBnZXRNdXRhYmxlQ29tcG9uZW50KENvbXBvbmVudCkge1xuICAgIHZhciBjb21wb25lbnQgPSB0aGlzLl9jb21wb25lbnRzW0NvbXBvbmVudC5uYW1lXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucXVlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5xdWVyaWVzW2ldO1xuICAgICAgLy8gQHRvZG8gYWNjZWxlcmF0ZSB0aGlzIGNoZWNrLiBNYXliZSBoYXZpbmcgcXVlcnkuX0NvbXBvbmVudHMgYXMgYW4gb2JqZWN0XG4gICAgICAvLyBAdG9kbyBhZGQgTm90IGNvbXBvbmVudHNcbiAgICAgIGlmIChxdWVyeS5yZWFjdGl2ZSAmJiBxdWVyeS5Db21wb25lbnRzLmluZGV4T2YoQ29tcG9uZW50KSAhPT0gLTEpIHtcbiAgICAgICAgcXVlcnkuZXZlbnREaXNwYXRjaGVyLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgUXVlcnkucHJvdG90eXBlLkNPTVBPTkVOVF9DSEFOR0VELFxuICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgY29tcG9uZW50XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb21wb25lbnQ7XG4gIH1cblxuICBhZGRDb21wb25lbnQoQ29tcG9uZW50LCB2YWx1ZXMpIHtcbiAgICB0aGlzLl93b3JsZC5lbnRpdHlBZGRDb21wb25lbnQodGhpcywgQ29tcG9uZW50LCB2YWx1ZXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmVtb3ZlQ29tcG9uZW50KENvbXBvbmVudCwgZm9yY2VJbW1lZGlhdGUpIHtcbiAgICB0aGlzLl93b3JsZC5lbnRpdHlSZW1vdmVDb21wb25lbnQodGhpcywgQ29tcG9uZW50LCBmb3JjZUltbWVkaWF0ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBoYXNDb21wb25lbnQoQ29tcG9uZW50LCBpbmNsdWRlUmVtb3ZlZCkge1xuICAgIHJldHVybiAoXG4gICAgICAhIX50aGlzLl9Db21wb25lbnRUeXBlcy5pbmRleE9mKENvbXBvbmVudCkgfHxcbiAgICAgIChpbmNsdWRlUmVtb3ZlZCA9PT0gdHJ1ZSAmJiB0aGlzLmhhc1JlbW92ZWRDb21wb25lbnQoQ29tcG9uZW50KSlcbiAgICApO1xuICB9XG5cbiAgaGFzUmVtb3ZlZENvbXBvbmVudChDb21wb25lbnQpIHtcbiAgICByZXR1cm4gISF+dGhpcy5fQ29tcG9uZW50VHlwZXNUb1JlbW92ZS5pbmRleE9mKENvbXBvbmVudCk7XG4gIH1cblxuICBoYXNBbGxDb21wb25lbnRzKENvbXBvbmVudHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IENvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghdGhpcy5oYXNDb21wb25lbnQoQ29tcG9uZW50c1tpXSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBoYXNBbnlDb21wb25lbnRzKENvbXBvbmVudHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IENvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmhhc0NvbXBvbmVudChDb21wb25lbnRzW2ldKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJlbW92ZUFsbENvbXBvbmVudHMoZm9yY2VJbW1lZGlhdGUpIHtcbiAgICByZXR1cm4gdGhpcy5fd29ybGQuZW50aXR5UmVtb3ZlQWxsQ29tcG9uZW50cyh0aGlzLCBmb3JjZUltbWVkaWF0ZSk7XG4gIH1cblxuICAvLyBFWFRSQVNcblxuICAvLyBJbml0aWFsaXplIHRoZSBlbnRpdHkuIFRvIGJlIHVzZWQgd2hlbiByZXR1cm5pbmcgYW4gZW50aXR5IHRvIHRoZSBwb29sXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuaWQgPSBuZXh0SWQrKztcbiAgICB0aGlzLl93b3JsZCA9IG51bGw7XG4gICAgdGhpcy5fQ29tcG9uZW50VHlwZXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLnF1ZXJpZXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLl9jb21wb25lbnRzID0ge307XG4gIH1cblxuICByZW1vdmUoZm9yY2VJbW1lZGlhdGUpIHtcbiAgICByZXR1cm4gdGhpcy5fd29ybGQucmVtb3ZlRW50aXR5KHRoaXMsIGZvcmNlSW1tZWRpYXRlKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgU3lzdGVtTWFuYWdlciB9IGZyb20gXCIuL1N5c3RlbU1hbmFnZXIuanNcIjtcbmltcG9ydCB7IEVudGl0eU1hbmFnZXIgfSBmcm9tIFwiLi9FbnRpdHlNYW5hZ2VyLmpzXCI7XG5pbXBvcnQgeyBDb21wb25lbnRNYW5hZ2VyIH0gZnJvbSBcIi4vQ29tcG9uZW50TWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgVmVyc2lvbiB9IGZyb20gXCIuL1ZlcnNpb24uanNcIjtcbmltcG9ydCB7IGhhc1dpbmRvdywgbm93IH0gZnJvbSBcIi4vVXRpbHMuanNcIjtcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuL0VudGl0eS5qc1wiO1xuXG5jb25zdCBERUZBVUxUX09QVElPTlMgPSB7XG4gIGVudGl0eVBvb2xTaXplOiAwLFxuICBlbnRpdHlDbGFzczogRW50aXR5XG59O1xuXG5leHBvcnQgY2xhc3MgV29ybGQge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX09QVElPTlMsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5jb21wb25lbnRzTWFuYWdlciA9IG5ldyBDb21wb25lbnRNYW5hZ2VyKHRoaXMpO1xuICAgIHRoaXMuZW50aXR5TWFuYWdlciA9IG5ldyBFbnRpdHlNYW5hZ2VyKHRoaXMpO1xuICAgIHRoaXMuc3lzdGVtTWFuYWdlciA9IG5ldyBTeXN0ZW1NYW5hZ2VyKHRoaXMpO1xuXG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcblxuICAgIHRoaXMuZXZlbnRRdWV1ZXMgPSB7fTtcblxuICAgIGlmIChoYXNXaW5kb3cgJiYgdHlwZW9mIEN1c3RvbUV2ZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJlY3N5LXdvcmxkLWNyZWF0ZWRcIiwge1xuICAgICAgICBkZXRhaWw6IHsgd29ybGQ6IHRoaXMsIHZlcnNpb246IFZlcnNpb24gfVxuICAgICAgfSk7XG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfVxuXG4gICAgdGhpcy5sYXN0VGltZSA9IG5vdygpO1xuICB9XG5cbiAgcmVnaXN0ZXJDb21wb25lbnQoQ29tcG9uZW50KSB7XG4gICAgdGhpcy5jb21wb25lbnRzTWFuYWdlci5yZWdpc3RlckNvbXBvbmVudChDb21wb25lbnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtLCBhdHRyaWJ1dGVzKSB7XG4gICAgdGhpcy5zeXN0ZW1NYW5hZ2VyLnJlZ2lzdGVyU3lzdGVtKFN5c3RlbSwgYXR0cmlidXRlcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB1bnJlZ2lzdGVyU3lzdGVtKFN5c3RlbSkge1xuICAgIHRoaXMuc3lzdGVtTWFuYWdlci51bnJlZ2lzdGVyU3lzdGVtKFN5c3RlbSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBnZXRTeXN0ZW0oU3lzdGVtQ2xhc3MpIHtcbiAgICByZXR1cm4gdGhpcy5zeXN0ZW1NYW5hZ2VyLmdldFN5c3RlbShTeXN0ZW1DbGFzcyk7XG4gIH1cblxuICBnZXRTeXN0ZW1zKCkge1xuICAgIHJldHVybiB0aGlzLnN5c3RlbU1hbmFnZXIuZ2V0U3lzdGVtcygpO1xuICB9XG5cbiAgZXhlY3V0ZShkZWx0YSwgdGltZSkge1xuICAgIGlmICghZGVsdGEpIHtcbiAgICAgIHRpbWUgPSBub3coKTtcbiAgICAgIGRlbHRhID0gdGltZSAtIHRoaXMubGFzdFRpbWU7XG4gICAgICB0aGlzLmxhc3RUaW1lID0gdGltZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5lbmFibGVkKSB7XG4gICAgICB0aGlzLnN5c3RlbU1hbmFnZXIuZXhlY3V0ZShkZWx0YSwgdGltZSk7XG4gICAgICB0aGlzLmVudGl0eU1hbmFnZXIucHJvY2Vzc0RlZmVycmVkUmVtb3ZhbCgpO1xuICAgIH1cbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gIH1cblxuICBwbGF5KCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gIH1cblxuICBjcmVhdGVFbnRpdHkobmFtZSkge1xuICAgIHJldHVybiB0aGlzLmVudGl0eU1hbmFnZXIuY3JlYXRlRW50aXR5KG5hbWUpO1xuICB9XG5cbiAgc3RhdHMoKSB7XG4gICAgdmFyIHN0YXRzID0ge1xuICAgICAgZW50aXRpZXM6IHRoaXMuZW50aXR5TWFuYWdlci5zdGF0cygpLFxuICAgICAgc3lzdGVtOiB0aGlzLnN5c3RlbU1hbmFnZXIuc3RhdHMoKVxuICAgIH07XG5cbiAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShzdGF0cywgbnVsbCwgMikpO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgQ29tcG9uZW50IHt9XG5cbkNvbXBvbmVudC5pc0NvbXBvbmVudCA9IHRydWU7XG4iLCJleHBvcnQgY2xhc3MgVGFnQ29tcG9uZW50IHtcbiAgcmVzZXQoKSB7fVxufVxuXG5UYWdDb21wb25lbnQuaXNUYWdDb21wb25lbnQgPSB0cnVlO1xuIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVR5cGUodHlwZURlZmluaXRpb24pIHtcbiAgdmFyIG1hbmRhdG9yeUZ1bmN0aW9ucyA9IFtcbiAgICBcImNyZWF0ZVwiLFxuICAgIFwicmVzZXRcIixcbiAgICBcImNsZWFyXCJcbiAgICAvKlwiY29weVwiKi9cbiAgXTtcblxuICB2YXIgdW5kZWZpbmVkRnVuY3Rpb25zID0gbWFuZGF0b3J5RnVuY3Rpb25zLmZpbHRlcihmID0+IHtcbiAgICByZXR1cm4gIXR5cGVEZWZpbml0aW9uW2ZdO1xuICB9KTtcblxuICBpZiAodW5kZWZpbmVkRnVuY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgY3JlYXRlVHlwZSBleHBlY3QgdHlwZSBkZWZpbml0aW9uIHRvIGltcGxlbWVudHMgdGhlIGZvbGxvd2luZyBmdW5jdGlvbnM6ICR7dW5kZWZpbmVkRnVuY3Rpb25zLmpvaW4oXG4gICAgICAgIFwiLCBcIlxuICAgICAgKX1gXG4gICAgKTtcbiAgfVxuXG4gIHR5cGVEZWZpbml0aW9uLmlzVHlwZSA9IHRydWU7XG4gIHJldHVybiB0eXBlRGVmaW5pdGlvbjtcbn1cbiIsImltcG9ydCB7IGNyZWF0ZVR5cGUgfSBmcm9tIFwiLi9DcmVhdGVUeXBlXCI7XG5cbi8qKlxuICogU3RhbmRhcmQgdHlwZXNcbiAqL1xudmFyIFR5cGVzID0ge307XG5cblR5cGVzLk51bWJlciA9IGNyZWF0ZVR5cGUoe1xuICBiYXNlVHlwZTogTnVtYmVyLFxuICBpc1NpbXBsZVR5cGU6IHRydWUsXG4gIGNyZWF0ZTogZGVmYXVsdFZhbHVlID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIGRlZmF1bHRWYWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiA/IGRlZmF1bHRWYWx1ZSA6IDA7XG4gIH0sXG4gIHJlc2V0OiAoc3JjLCBrZXksIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgZGVmYXVsdFZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBzcmNba2V5XSA9IGRlZmF1bHRWYWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3JjW2tleV0gPSAwO1xuICAgIH1cbiAgfSxcbiAgY2xlYXI6IChzcmMsIGtleSkgPT4ge1xuICAgIHNyY1trZXldID0gMDtcbiAgfVxufSk7XG5cblR5cGVzLkJvb2xlYW4gPSBjcmVhdGVUeXBlKHtcbiAgYmFzZVR5cGU6IEJvb2xlYW4sXG4gIGlzU2ltcGxlVHlwZTogdHJ1ZSxcbiAgY3JlYXRlOiBkZWZhdWx0VmFsdWUgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgZGVmYXVsdFZhbHVlICE9PSBcInVuZGVmaW5lZFwiID8gZGVmYXVsdFZhbHVlIDogZmFsc2U7XG4gIH0sXG4gIHJlc2V0OiAoc3JjLCBrZXksIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgZGVmYXVsdFZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBzcmNba2V5XSA9IGRlZmF1bHRWYWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3JjW2tleV0gPSBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIGNsZWFyOiAoc3JjLCBrZXkpID0+IHtcbiAgICBzcmNba2V5XSA9IGZhbHNlO1xuICB9XG59KTtcblxuVHlwZXMuU3RyaW5nID0gY3JlYXRlVHlwZSh7XG4gIGJhc2VUeXBlOiBTdHJpbmcsXG4gIGlzU2ltcGxlVHlwZTogdHJ1ZSxcbiAgY3JlYXRlOiBkZWZhdWx0VmFsdWUgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgZGVmYXVsdFZhbHVlICE9PSBcInVuZGVmaW5lZFwiID8gZGVmYXVsdFZhbHVlIDogXCJcIjtcbiAgfSxcbiAgcmVzZXQ6IChzcmMsIGtleSwgZGVmYXVsdFZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHNyY1trZXldID0gZGVmYXVsdFZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcmNba2V5XSA9IFwiXCI7XG4gICAgfVxuICB9LFxuICBjbGVhcjogKHNyYywga2V5KSA9PiB7XG4gICAgc3JjW2tleV0gPSBcIlwiO1xuICB9XG59KTtcblxuVHlwZXMuQXJyYXkgPSBjcmVhdGVUeXBlKHtcbiAgYmFzZVR5cGU6IEFycmF5LFxuICBjcmVhdGU6IGRlZmF1bHRWYWx1ZSA9PiB7XG4gICAgaWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWUuc2xpY2UoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gW107XG4gIH0sXG4gIHJlc2V0OiAoc3JjLCBrZXksIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgZGVmYXVsdFZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBzcmNba2V5XSA9IGRlZmF1bHRWYWx1ZS5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcmNba2V5XS5sZW5ndGggPSAwO1xuICAgIH1cbiAgfSxcbiAgY2xlYXI6IChzcmMsIGtleSkgPT4ge1xuICAgIHNyY1trZXldLmxlbmd0aCA9IDA7XG4gIH0sXG4gIGNvcHk6IChzcmMsIGRzdCwga2V5KSA9PiB7XG4gICAgc3JjW2tleV0gPSBkc3Rba2V5XS5zbGljZSgpO1xuICB9XG59KTtcblxuZXhwb3J0IHsgVHlwZXMgfTtcbiIsImltcG9ydCB7IFR5cGVzIH0gZnJvbSBcIi4vU3RhbmRhcmRUeXBlc1wiO1xuXG52YXIgc3RhbmRhcmRUeXBlcyA9IHtcbiAgbnVtYmVyOiBUeXBlcy5OdW1iZXIsXG4gIGJvb2xlYW46IFR5cGVzLkJvb2xlYW4sXG4gIHN0cmluZzogVHlwZXMuU3RyaW5nXG59O1xuXG4vKipcbiAqIFRyeSB0byBpbmZlciB0aGUgdHlwZSBvZiB0aGUgdmFsdWVcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm4ge1N0cmluZ30gVHlwZSBvZiB0aGUgYXR0cmlidXRlXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5mZXJUeXBlKHZhbHVlKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiBUeXBlcy5BcnJheTtcbiAgfVxuXG4gIGlmIChzdGFuZGFyZFR5cGVzW3R5cGVvZiB2YWx1ZV0pIHtcbiAgICByZXR1cm4gc3RhbmRhcmRUeXBlc1t0eXBlb2YgdmFsdWVdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iLCJpbXBvcnQgeyBpbmZlclR5cGUgfSBmcm9tIFwiLi9JbmZlclR5cGVcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudENsYXNzKHNjaGVtYSwgbmFtZSkge1xuICAvL3ZhciBDb21wb25lbnQgPSBuZXcgRnVuY3Rpb24oYHJldHVybiBmdW5jdGlvbiAke25hbWV9KCkge31gKSgpO1xuICBmb3IgKGxldCBrZXkgaW4gc2NoZW1hKSB7XG4gICAgbGV0IHR5cGUgPSBzY2hlbWFba2V5XS50eXBlO1xuICAgIGlmICghdHlwZSkge1xuICAgICAgc2NoZW1hW2tleV0udHlwZSA9IGluZmVyVHlwZShzY2hlbWFba2V5XS5kZWZhdWx0KTtcbiAgICB9XG4gIH1cblxuICB2YXIgQ29tcG9uZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yIChsZXQga2V5IGluIHNjaGVtYSkge1xuICAgICAgdmFyIGF0dHIgPSBzY2hlbWFba2V5XTtcbiAgICAgIGxldCB0eXBlID0gYXR0ci50eXBlO1xuICAgICAgaWYgKHR5cGUgJiYgdHlwZS5pc1R5cGUpIHtcbiAgICAgICAgdGhpc1trZXldID0gdHlwZS5jcmVhdGUoYXR0ci5kZWZhdWx0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXNba2V5XSA9IGF0dHIuZGVmYXVsdDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudCwgXCJuYW1lXCIsIHsgdmFsdWU6IG5hbWUgfSk7XG4gIH1cblxuICBDb21wb25lbnQucHJvdG90eXBlLnNjaGVtYSA9IHNjaGVtYTtcblxuICB2YXIga25vd25UeXBlcyA9IHRydWU7XG4gIGZvciAobGV0IGtleSBpbiBzY2hlbWEpIHtcbiAgICB2YXIgYXR0ciA9IHNjaGVtYVtrZXldO1xuICAgIGlmICghYXR0ci50eXBlKSB7XG4gICAgICBhdHRyLnR5cGUgPSBpbmZlclR5cGUoYXR0ci5kZWZhdWx0KTtcbiAgICB9XG5cbiAgICB2YXIgdHlwZSA9IGF0dHIudHlwZTtcbiAgICBpZiAoIXR5cGUpIHtcbiAgICAgIGNvbnNvbGUud2FybihgVW5rbm93biB0eXBlIGRlZmluaXRpb24gZm9yIGF0dHJpYnV0ZSAnJHtrZXl9J2ApO1xuICAgICAga25vd25UeXBlcyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGlmICgha25vd25UeXBlcykge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGBUaGlzIGNvbXBvbmVudCBjYW4ndCB1c2UgcG9vbGluZyBiZWNhdXNlIHNvbWUgZGF0YSB0eXBlcyBhcmUgbm90IHJlZ2lzdGVyZWQuIFBsZWFzZSBwcm92aWRlIGEgdHlwZSBjcmVhdGVkIHdpdGggJ2NyZWF0ZVR5cGUnYFxuICAgICk7XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc2NoZW1hKSB7XG4gICAgICBsZXQgYXR0ciA9IHNjaGVtYVtrZXldO1xuICAgICAgQ29tcG9uZW50LnByb3RvdHlwZVtrZXldID0gYXR0ci5kZWZhdWx0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbihzcmMpIHtcbiAgICAgIGZvciAobGV0IGtleSBpbiBzY2hlbWEpIHtcbiAgICAgICAgaWYgKHNyY1trZXldKSB7XG4gICAgICAgICAgbGV0IHR5cGUgPSBzY2hlbWFba2V5XS50eXBlO1xuICAgICAgICAgIGlmICh0eXBlLmlzU2ltcGxlVHlwZSkge1xuICAgICAgICAgICAgdGhpc1trZXldID0gc3JjW2tleV07XG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlLmNvcHkpIHtcbiAgICAgICAgICAgIHR5cGUuY29weSh0aGlzLCBzcmMsIGtleSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEB0b2RvIERldGVjdCB0aGF0IGl0J3Mgbm90IHBvc3NpYmxlIHRvIGNvcHkgYWxsIHRoZSBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAvLyBhbmQganVzdCBhdm9pZCBjcmVhdGluZyB0aGUgY29weSBmdW5jdGlvblxuICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICBgVW5rbm93biBjb3B5IGZ1bmN0aW9uIGZvciBhdHRyaWJ1dGUgJyR7a2V5fScgZGF0YSB0eXBlYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgZm9yIChsZXQga2V5IGluIHNjaGVtYSkge1xuICAgICAgICBsZXQgYXR0ciA9IHNjaGVtYVtrZXldO1xuICAgICAgICBsZXQgdHlwZSA9IGF0dHIudHlwZTtcbiAgICAgICAgaWYgKHR5cGUucmVzZXQpIHR5cGUucmVzZXQodGhpcywga2V5LCBhdHRyLmRlZmF1bHQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBDb21wb25lbnQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKGxldCBrZXkgaW4gc2NoZW1hKSB7XG4gICAgICAgIGxldCB0eXBlID0gc2NoZW1hW2tleV0udHlwZTtcbiAgICAgICAgaWYgKHR5cGUuY2xlYXIpIHR5cGUuY2xlYXIodGhpcywga2V5KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZm9yIChsZXQga2V5IGluIHNjaGVtYSkge1xuICAgICAgbGV0IGF0dHIgPSBzY2hlbWFba2V5XTtcbiAgICAgIGxldCB0eXBlID0gYXR0ci50eXBlO1xuICAgICAgQ29tcG9uZW50LnByb3RvdHlwZVtrZXldID0gYXR0ci5kZWZhdWx0O1xuXG4gICAgICBpZiAodHlwZS5yZXNldCkge1xuICAgICAgICB0eXBlLnJlc2V0KENvbXBvbmVudC5wcm90b3R5cGUsIGtleSwgYXR0ci5kZWZhdWx0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gQ29tcG9uZW50O1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlSWQobGVuZ3RoKSB7XG4gIHZhciByZXN1bHQgPSBcIlwiO1xuICB2YXIgY2hhcmFjdGVycyA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVowMTIzNDU2Nzg5XCI7XG4gIHZhciBjaGFyYWN0ZXJzTGVuZ3RoID0gY2hhcmFjdGVycy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHQgKz0gY2hhcmFjdGVycy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcmFjdGVyc0xlbmd0aCkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmplY3RTY3JpcHQoc3JjLCBvbkxvYWQpIHtcbiAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gIC8vIEB0b2RvIFVzZSBsaW5rIHRvIHRoZSBlY3N5LWRldnRvb2xzIHJlcG8/XG4gIHNjcmlwdC5zcmMgPSBzcmM7XG4gIHNjcmlwdC5vbmxvYWQgPSBvbkxvYWQ7XG4gIChkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn1cbiIsIi8qIGdsb2JhbCBQZWVyICovXG5pbXBvcnQgeyBpbmplY3RTY3JpcHQsIGdlbmVyYXRlSWQgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuaW1wb3J0IHsgaGFzV2luZG93IH0gZnJvbSBcIi4uL1V0aWxzLmpzXCI7XG5cbmZ1bmN0aW9uIGhvb2tDb25zb2xlQW5kRXJyb3JzKGNvbm5lY3Rpb24pIHtcbiAgdmFyIHdyYXBGdW5jdGlvbnMgPSBbXCJlcnJvclwiLCBcIndhcm5pbmdcIiwgXCJsb2dcIl07XG4gIHdyYXBGdW5jdGlvbnMuZm9yRWFjaChrZXkgPT4ge1xuICAgIGlmICh0eXBlb2YgY29uc29sZVtrZXldID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHZhciBmbiA9IGNvbnNvbGVba2V5XS5iaW5kKGNvbnNvbGUpO1xuICAgICAgY29uc29sZVtrZXldID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29ubmVjdGlvbi5zZW5kKHtcbiAgICAgICAgICBtZXRob2Q6IFwiY29uc29sZVwiLFxuICAgICAgICAgIHR5cGU6IGtleSxcbiAgICAgICAgICBhcmdzOiBKU09OLnN0cmluZ2lmeShhcmdzKVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgZXJyb3IgPT4ge1xuICAgIGNvbm5lY3Rpb24uc2VuZCh7XG4gICAgICBtZXRob2Q6IFwiZXJyb3JcIixcbiAgICAgIGVycm9yOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLmVycm9yLm1lc3NhZ2UsXG4gICAgICAgIHN0YWNrOiBlcnJvci5lcnJvci5zdGFja1xuICAgICAgfSlcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGluY2x1ZGVSZW1vdGVJZEhUTUwocmVtb3RlSWQpIHtcbiAgbGV0IGluZm9EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBpbmZvRGl2LnN0eWxlLmNzc1RleHQgPSBgXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xuICAgIGNvbG9yOiAjYWFhO1xuICAgIGRpc3BsYXk6ZmxleDtcbiAgICBmb250LWZhbWlseTogQXJpYWw7XG4gICAgZm9udC1zaXplOiAxLjFlbTtcbiAgICBoZWlnaHQ6IDQwcHg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgbGVmdDogMDtcbiAgICBvcGFjaXR5OiAwLjk7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHJpZ2h0OiAwO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB0b3A6IDA7XG4gIGA7XG5cbiAgaW5mb0Rpdi5pbm5lckhUTUwgPSBgT3BlbiBFQ1NZIGRldnRvb2xzIHRvIGNvbm5lY3QgdG8gdGhpcyBwYWdlIHVzaW5nIHRoZSBjb2RlOiZuYnNwOzxiIHN0eWxlPVwiY29sb3I6ICNmZmZcIj4ke3JlbW90ZUlkfTwvYj4mbmJzcDs8YnV0dG9uIG9uQ2xpY2s9XCJnZW5lcmF0ZU5ld0NvZGUoKVwiPkdlbmVyYXRlIG5ldyBjb2RlPC9idXR0b24+YDtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbmZvRGl2KTtcblxuICByZXR1cm4gaW5mb0Rpdjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZVJlbW90ZURldnRvb2xzKHJlbW90ZUlkKSB7XG4gIGlmICghaGFzV2luZG93KSB7XG4gICAgY29uc29sZS53YXJuKFwiUmVtb3RlIGRldnRvb2xzIG5vdCBhdmFpbGFibGUgb3V0c2lkZSB0aGUgYnJvd3NlclwiKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB3aW5kb3cuZ2VuZXJhdGVOZXdDb2RlID0gKCkgPT4ge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UuY2xlYXIoKTtcbiAgICByZW1vdGVJZCA9IGdlbmVyYXRlSWQoNik7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiZWNzeVJlbW90ZUlkXCIsIHJlbW90ZUlkKTtcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKGZhbHNlKTtcbiAgfTtcblxuICByZW1vdGVJZCA9IHJlbW90ZUlkIHx8IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImVjc3lSZW1vdGVJZFwiKTtcbiAgaWYgKCFyZW1vdGVJZCkge1xuICAgIHJlbW90ZUlkID0gZ2VuZXJhdGVJZCg2KTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJlY3N5UmVtb3RlSWRcIiwgcmVtb3RlSWQpO1xuICB9XG5cbiAgbGV0IGluZm9EaXYgPSBpbmNsdWRlUmVtb3RlSWRIVE1MKHJlbW90ZUlkKTtcblxuICB3aW5kb3cuX19FQ1NZX1JFTU9URV9ERVZUT09MU19JTkpFQ1RFRCA9IHRydWU7XG4gIHdpbmRvdy5fX0VDU1lfUkVNT1RFX0RFVlRPT0xTID0ge307XG5cbiAgbGV0IFZlcnNpb24gPSBcIlwiO1xuXG4gIC8vIFRoaXMgaXMgdXNlZCB0byBjb2xsZWN0IHRoZSB3b3JsZHMgY3JlYXRlZCBiZWZvcmUgdGhlIGNvbW11bmljYXRpb24gaXMgYmVpbmcgZXN0YWJsaXNoZWRcbiAgbGV0IHdvcmxkc0JlZm9yZUxvYWRpbmcgPSBbXTtcbiAgbGV0IG9uV29ybGRDcmVhdGVkID0gZSA9PiB7XG4gICAgdmFyIHdvcmxkID0gZS5kZXRhaWwud29ybGQ7XG4gICAgVmVyc2lvbiA9IGUuZGV0YWlsLnZlcnNpb247XG4gICAgd29ybGRzQmVmb3JlTG9hZGluZy5wdXNoKHdvcmxkKTtcbiAgfTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJlY3N5LXdvcmxkLWNyZWF0ZWRcIiwgb25Xb3JsZENyZWF0ZWQpO1xuXG4gIGxldCBvbkxvYWRlZCA9ICgpID0+IHtcbiAgICB2YXIgcGVlciA9IG5ldyBQZWVyKHJlbW90ZUlkKTtcbiAgICBwZWVyLm9uKFwib3BlblwiLCAoLyogaWQgKi8pID0+IHtcbiAgICAgIHBlZXIub24oXCJjb25uZWN0aW9uXCIsIGNvbm5lY3Rpb24gPT4ge1xuICAgICAgICB3aW5kb3cuX19FQ1NZX1JFTU9URV9ERVZUT09MUy5jb25uZWN0aW9uID0gY29ubmVjdGlvbjtcbiAgICAgICAgY29ubmVjdGlvbi5vbihcIm9wZW5cIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy8gaW5mb0Rpdi5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgICBpbmZvRGl2LmlubmVySFRNTCA9IFwiQ29ubmVjdGVkXCI7XG5cbiAgICAgICAgICAvLyBSZWNlaXZlIG1lc3NhZ2VzXG4gICAgICAgICAgY29ubmVjdGlvbi5vbihcImRhdGFcIiwgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gXCJpbml0XCIpIHtcbiAgICAgICAgICAgICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgICAgICAgIHNjcmlwdC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dC9qYXZhc2NyaXB0XCIpO1xuICAgICAgICAgICAgICBzY3JpcHQub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG5cbiAgICAgICAgICAgICAgICAvLyBPbmNlIHRoZSBzY3JpcHQgaXMgaW5qZWN0ZWQgd2UgZG9uJ3QgbmVlZCB0byBsaXN0ZW5cbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgIFwiZWNzeS13b3JsZC1jcmVhdGVkXCIsXG4gICAgICAgICAgICAgICAgICBvbldvcmxkQ3JlYXRlZFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgd29ybGRzQmVmb3JlTG9hZGluZy5mb3JFYWNoKHdvcmxkID0+IHtcbiAgICAgICAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudChcImVjc3ktd29ybGQtY3JlYXRlZFwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDogeyB3b3JsZDogd29ybGQsIHZlcnNpb246IFZlcnNpb24gfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHNjcmlwdC5pbm5lckhUTUwgPSBkYXRhLnNjcmlwdDtcbiAgICAgICAgICAgICAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgICAgICAgICAgICBzY3JpcHQub25sb2FkKCk7XG5cbiAgICAgICAgICAgICAgaG9va0NvbnNvbGVBbmRFcnJvcnMoY29ubmVjdGlvbik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gXCJleGVjdXRlU2NyaXB0XCIpIHtcbiAgICAgICAgICAgICAgbGV0IHZhbHVlID0gZXZhbChkYXRhLnNjcmlwdCk7XG4gICAgICAgICAgICAgIGlmIChkYXRhLnJldHVybkV2YWwpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcImV2YWxSZXR1cm5cIixcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gSW5qZWN0IFBlZXJKUyBzY3JpcHRcbiAgaW5qZWN0U2NyaXB0KFxuICAgIFwiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9wZWVyanNAMC4zLjIwL2Rpc3QvcGVlci5taW4uanNcIixcbiAgICBvbkxvYWRlZFxuICApO1xufVxuXG5pZiAoaGFzV2luZG93KSB7XG4gIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG5cbiAgLy8gQHRvZG8gUHJvdmlkZSBhIHdheSB0byBkaXNhYmxlIGl0IGlmIG5lZWRlZFxuICBpZiAodXJsUGFyYW1zLmhhcyhcImVuYWJsZS1yZW1vdGUtZGV2dG9vbHNcIikpIHtcbiAgICBlbmFibGVSZW1vdGVEZXZ0b29scygpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiZ2V0TmFtZSIsIkNvbXBvbmVudCIsIm5hbWUiLCJjb21wb25lbnRQcm9wZXJ0eU5hbWUiLCJxdWVyeUtleSIsIkNvbXBvbmVudHMiLCJuYW1lcyIsIm4iLCJsZW5ndGgiLCJUIiwib3BlcmF0b3IiLCJwdXNoIiwic29ydCIsImpvaW4iLCJoYXNXaW5kb3ciLCJ3aW5kb3ciLCJub3ciLCJwZXJmb3JtYW5jZSIsImJpbmQiLCJEYXRlIiwiRXZlbnREaXNwYXRjaGVyIiwiW29iamVjdCBPYmplY3RdIiwidGhpcyIsIl9saXN0ZW5lcnMiLCJzdGF0cyIsImZpcmVkIiwiaGFuZGxlZCIsImV2ZW50TmFtZSIsImxpc3RlbmVyIiwibGlzdGVuZXJzIiwidW5kZWZpbmVkIiwiaW5kZXhPZiIsImxpc3RlbmVyQXJyYXkiLCJpbmRleCIsInNwbGljZSIsImVudGl0eSIsImNvbXBvbmVudCIsImFycmF5Iiwic2xpY2UiLCJpIiwiY2FsbCIsIlF1ZXJ5IiwibWFuYWdlciIsIk5vdENvbXBvbmVudHMiLCJmb3JFYWNoIiwiRXJyb3IiLCJlbnRpdGllcyIsImV2ZW50RGlzcGF0Y2hlciIsInJlYWN0aXZlIiwia2V5IiwiX2VudGl0aWVzIiwibWF0Y2giLCJxdWVyaWVzIiwiZGlzcGF0Y2hFdmVudCIsInByb3RvdHlwZSIsIkVOVElUWV9BRERFRCIsIkVOVElUWV9SRU1PVkVEIiwiaGFzQWxsQ29tcG9uZW50cyIsImhhc0FueUNvbXBvbmVudHMiLCJjb21wb25lbnRzIiwiaW5jbHVkZWQiLCJtYXAiLCJDIiwibm90IiwibnVtRW50aXRpZXMiLCJudW1Db21wb25lbnRzIiwiQ09NUE9ORU5UX0NIQU5HRUQiLCJTeXN0ZW0iLCJfbWFuZGF0b3J5UXVlcmllcyIsIndvcmxkIiwiYXR0cmlidXRlcyIsImVuYWJsZWQiLCJfcXVlcmllcyIsInByaW9yaXR5IiwiZXhlY3V0ZVRpbWUiLCJpbml0aWFsaXplZCIsImNvbnN0cnVjdG9yIiwicXVlcnlOYW1lIiwicXVlcnlDb25maWciLCJxdWVyeSIsImVudGl0eU1hbmFnZXIiLCJxdWVyeUNvbXBvbmVudHMiLCJtYW5kYXRvcnkiLCJyZXN1bHRzIiwidmFsaWRFdmVudHMiLCJldmVudE1hcHBpbmciLCJhZGRlZCIsInJlbW92ZWQiLCJjaGFuZ2VkIiwibGlzdGVuIiwiZXhlY3V0ZSIsImNvbnNvbGUiLCJ3YXJuIiwiZXZlbnQiLCJldmVudExpc3QiLCJhZGRFdmVudExpc3RlbmVyIiwiQXJyYXkiLCJpc0FycmF5IiwiY2hhbmdlZENvbXBvbmVudCIsImpzb24iLCJxdWVyeURlZmluaXRpb24iLCJqc29uUXVlcnkiLCJtZXRob2QiLCJOb3QiLCJTeXN0ZW1NYW5hZ2VyIiwiX3N5c3RlbXMiLCJfZXhlY3V0ZVN5c3RlbXMiLCJsYXN0RXhlY3V0ZWRTeXN0ZW0iLCJTeXN0ZW1DbGFzcyIsImdldFN5c3RlbSIsInN5c3RlbSIsImluaXQiLCJvcmRlciIsInNvcnRTeXN0ZW1zIiwiYSIsImIiLCJmaW5kIiwicyIsImRlbHRhIiwidGltZSIsImNhbkV4ZWN1dGUiLCJzdGFydFRpbWUiLCJjbGVhckV2ZW50cyIsInN0b3AiLCJmb3JjZVBsYXkiLCJleGVjdXRlU3lzdGVtIiwibnVtU3lzdGVtcyIsInN5c3RlbXMiLCJzeXN0ZW1TdGF0cyIsImN0eCIsIk9iamVjdFBvb2wiLCJpbml0aWFsU2l6ZSIsImZyZWVMaXN0IiwiY291bnQiLCJpc09iamVjdFBvb2wiLCJleHRyYUFyZ3MiLCJhcmd1bWVudHMiLCJzaGlmdCIsImNyZWF0ZUVsZW1lbnQiLCJleHBhbmQiLCJNYXRoIiwicm91bmQiLCJwb3AiLCJpdGVtIiwicmVzZXQiLCJRdWVyeU1hbmFnZXIiLCJfd29ybGQiLCJyZW1vdmVFbnRpdHkiLCJhZGRFbnRpdHkiLCJTeXN0ZW1TdGF0ZUNvbXBvbmVudCIsImlzU3lzdGVtU3RhdGVDb21wb25lbnQiLCJFbnRpdHlNYW5hZ2VyIiwiY29tcG9uZW50c01hbmFnZXIiLCJfZW50aXRpZXNCeU5hbWVzIiwiX3F1ZXJ5TWFuYWdlciIsIl9lbnRpdHlQb29sIiwib3B0aW9ucyIsImVudGl0eUNsYXNzIiwiZW50aXR5UG9vbFNpemUiLCJlbnRpdGllc1dpdGhDb21wb25lbnRzVG9SZW1vdmUiLCJlbnRpdGllc1RvUmVtb3ZlIiwiZGVmZXJyZWRSZW1vdmFsRW5hYmxlZCIsImFjcXVpcmUiLCJhbGl2ZSIsIkVOVElUWV9DUkVBVEVEIiwidmFsdWVzIiwiX0NvbXBvbmVudFR5cGVzIiwiX19wcm90b19fIiwibnVtU3RhdGVDb21wb25lbnRzIiwiZ2V0Q29tcG9uZW50c1Bvb2wiLCJfY29tcG9uZW50cyIsImNvcHkiLCJvbkVudGl0eUNvbXBvbmVudEFkZGVkIiwiY29tcG9uZW50QWRkZWRUb0VudGl0eSIsIkNPTVBPTkVOVF9BRERFRCIsImltbWVkaWF0ZWx5IiwiQ09NUE9ORU5UX1JFTU9WRSIsIl9lbnRpdHlSZW1vdmVDb21wb25lbnRTeW5jIiwiX0NvbXBvbmVudFR5cGVzVG9SZW1vdmUiLCJjb21wb25lbnROYW1lIiwiX2NvbXBvbmVudHNUb1JlbW92ZSIsIm9uRW50aXR5Q29tcG9uZW50UmVtb3ZlZCIsInJlbW92ZSIsInByb3BOYW1lIiwiX2NvbXBvbmVudFBvb2wiLCJyZWxlYXNlIiwiY29tcG9uZW50UmVtb3ZlZEZyb21FbnRpdHkiLCJqIiwiZW50aXR5UmVtb3ZlQ29tcG9uZW50Iiwib25FbnRpdHlSZW1vdmVkIiwiX3JlbGVhc2VFbnRpdHkiLCJlbnRpdHlSZW1vdmVBbGxDb21wb25lbnRzIiwiZ2V0UXVlcnkiLCJudW1RdWVyaWVzIiwiT2JqZWN0Iiwia2V5cyIsIm51bUNvbXBvbmVudFBvb2wiLCJjb21wb25lbnRQb29sIiwiY25hbWUiLCJwb29sIiwidXNlZCIsInRvdGFsVXNlZCIsInNpemUiLCJEdW1teU9iamVjdFBvb2wiLCJpc0R1bW15T2JqZWN0UG9vbCIsIkluZmluaXR5IiwiQ29tcG9uZW50TWFuYWdlciIsInJlZ2lzdGVyQ29tcG9uZW50IiwiVmVyc2lvbiIsInBqc29uIiwidmVyc2lvbiIsIm5leHRJZCIsIkVudGl0eSIsImlkIiwiaW5jbHVkZVJlbW92ZWQiLCJlbnRpdHlBZGRDb21wb25lbnQiLCJmb3JjZUltbWVkaWF0ZSIsImhhc1JlbW92ZWRDb21wb25lbnQiLCJoYXNDb21wb25lbnQiLCJERUZBVUxUX09QVElPTlMiLCJXb3JsZCIsImFzc2lnbiIsInN5c3RlbU1hbmFnZXIiLCJldmVudFF1ZXVlcyIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwibGFzdFRpbWUiLCJyZWdpc3RlclN5c3RlbSIsInVucmVnaXN0ZXJTeXN0ZW0iLCJnZXRTeXN0ZW1zIiwicHJvY2Vzc0RlZmVycmVkUmVtb3ZhbCIsImNyZWF0ZUVudGl0eSIsImxvZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJpc0NvbXBvbmVudCIsIlRhZ0NvbXBvbmVudCIsImNyZWF0ZVR5cGUiLCJ0eXBlRGVmaW5pdGlvbiIsInVuZGVmaW5lZEZ1bmN0aW9ucyIsImZpbHRlciIsImYiLCJpc1R5cGUiLCJpc1RhZ0NvbXBvbmVudCIsIlR5cGVzIiwiTnVtYmVyIiwiYmFzZVR5cGUiLCJpc1NpbXBsZVR5cGUiLCJjcmVhdGUiLCJkZWZhdWx0VmFsdWUiLCJzcmMiLCJjbGVhciIsIkJvb2xlYW4iLCJTdHJpbmciLCJkc3QiLCJzdGFuZGFyZFR5cGVzIiwibnVtYmVyIiwiYm9vbGVhbiIsInN0cmluZyIsImluZmVyVHlwZSIsInZhbHVlIiwiY3JlYXRlQ29tcG9uZW50Q2xhc3MiLCJzY2hlbWEiLCJ0eXBlIiwiZGVmYXVsdCIsImF0dHIiLCJkZWZpbmVQcm9wZXJ0eSIsImtub3duVHlwZXMiLCJnZW5lcmF0ZUlkIiwicmVzdWx0IiwiY2hhcmFjdGVycyIsImNoYXJhY3RlcnNMZW5ndGgiLCJjaGFyQXQiLCJmbG9vciIsInJhbmRvbSIsImluamVjdFNjcmlwdCIsIm9uTG9hZCIsInNjcmlwdCIsImRvY3VtZW50Iiwib25sb2FkIiwiaGVhZCIsImRvY3VtZW50RWxlbWVudCIsImFwcGVuZENoaWxkIiwiaG9va0NvbnNvbGVBbmRFcnJvcnMiLCJjb25uZWN0aW9uIiwiZm4iLCJhcmdzIiwic2VuZCIsImFwcGx5IiwiZXJyb3IiLCJtZXNzYWdlIiwic3RhY2siLCJpbmNsdWRlUmVtb3RlSWRIVE1MIiwicmVtb3RlSWQiLCJpbmZvRGl2Iiwic3R5bGUiLCJjc3NUZXh0IiwiaW5uZXJIVE1MIiwiYm9keSIsImVuYWJsZVJlbW90ZURldnRvb2xzIiwiZ2VuZXJhdGVOZXdDb2RlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImxvY2F0aW9uIiwicmVsb2FkIiwiZ2V0SXRlbSIsIl9fRUNTWV9SRU1PVEVfREVWVE9PTFNfSU5KRUNURUQiLCJfX0VDU1lfUkVNT1RFX0RFVlRPT0xTIiwid29ybGRzQmVmb3JlTG9hZGluZyIsIm9uV29ybGRDcmVhdGVkIiwiZSIsIm9uTG9hZGVkIiwicGVlciIsIlBlZXIiLCJvbiIsImRhdGEiLCJzZXRBdHRyaWJ1dGUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZhbCIsInJldHVybkV2YWwiLCJ1cmxQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJzZWFyY2giLCJoYXMiXSwibWFwcGluZ3MiOiJBQUtPLFNBQVNBLFFBQVFDLEdBQ3RCLE9BQU9BLEVBQVVDLEtBUVosU0FBU0Msc0JBQXNCRixHQUNwQyxPQUFPRCxRQUFRQyxHQVFWLFNBQVNHLFNBQVNDLEdBRXZCLElBREEsSUFBSUMsRUFBUSxHQUNIQyxFQUFJLEVBQUdBLEVBQUlGLEVBQVdHLE9BQVFELElBQUssQ0FDMUMsSUFBSUUsRUFBSUosRUFBV0UsR0FDbkIsR0FBaUIsaUJBQU5FLEVBQWdCLENBQ3pCLElBQUlDLEVBQTBCLFFBQWZELEVBQUVDLFNBQXFCLElBQU1ELEVBQUVDLFNBQzlDSixFQUFNSyxLQUFLRCxFQUFXVixRQUFRUyxFQUFFUixpQkFFaENLLEVBQU1LLEtBQUtYLFFBQVFTLElBSXZCLE9BQU9ILEVBQU1NLE9BQU9DLEtBQUssS0FJcEIsTUFBTUMsVUFBOEIsb0JBQVhDLE9BR25CQyxJQUNYRixnQkFBMkMsSUFBdkJDLE9BQU9FLFlBQ3ZCQSxZQUFZRCxJQUFJRSxLQUFLRCxhQUNyQkUsS0FBS0gsSUFBSUUsS0FBS0MsTUN6Q3BCLE1BQXFCQyxnQkFDbkJDLGNBQ0VDLEtBQUtDLFdBQWEsR0FDbEJELEtBQUtFLE1BQVEsQ0FDWEMsTUFBTyxFQUNQQyxRQUFTLEdBU2JMLGlCQUFpQk0sRUFBV0MsR0FDMUIsSUFBSUMsRUFBWVAsS0FBS0MsZ0JBQ1FPLElBQXpCRCxFQUFVRixLQUNaRSxFQUFVRixHQUFhLEtBR3VCLElBQTVDRSxFQUFVRixHQUFXSSxRQUFRSCxJQUMvQkMsRUFBVUYsR0FBV2hCLEtBQUtpQixHQVM5QlAsaUJBQWlCTSxFQUFXQyxHQUMxQixZQUNpQ0UsSUFBL0JSLEtBQUtDLFdBQVdJLEtBQ2tDLElBQWxETCxLQUFLQyxXQUFXSSxHQUFXSSxRQUFRSCxHQVN2Q1Asb0JBQW9CTSxFQUFXQyxHQUM3QixJQUFJSSxFQUFnQlYsS0FBS0MsV0FBV0ksR0FDcEMsUUFBc0JHLElBQWxCRSxFQUE2QixDQUMvQixJQUFJQyxFQUFRRCxFQUFjRCxRQUFRSCxJQUNuQixJQUFYSyxHQUNGRCxFQUFjRSxPQUFPRCxFQUFPLElBV2xDWixjQUFjTSxFQUFXUSxFQUFRQyxHQUMvQmQsS0FBS0UsTUFBTUMsUUFFWCxJQUFJTyxFQUFnQlYsS0FBS0MsV0FBV0ksR0FDcEMsUUFBc0JHLElBQWxCRSxFQUdGLElBRkEsSUFBSUssRUFBUUwsRUFBY00sTUFBTSxHQUV2QkMsRUFBSSxFQUFHQSxFQUFJRixFQUFNN0IsT0FBUStCLElBQ2hDRixFQUFNRSxHQUFHQyxLQUFLbEIsS0FBTWEsRUFBUUMsR0FRbENmLGdCQUNFQyxLQUFLRSxNQUFNQyxNQUFRSCxLQUFLRSxNQUFNRSxRQUFVLEdDNUU3QixNQUFNZSxNQUluQnBCLFlBQVloQixFQUFZcUMsR0FZdEIsR0FYQXBCLEtBQUtqQixXQUFhLEdBQ2xCaUIsS0FBS3FCLGNBQWdCLEdBRXJCdEMsRUFBV3VDLFFBQVFSLElBQ1EsaUJBQWRBLEVBQ1RkLEtBQUtxQixjQUFjaEMsS0FBS3lCLEVBQVVuQyxXQUVsQ3FCLEtBQUtqQixXQUFXTSxLQUFLeUIsS0FJTSxJQUEzQmQsS0FBS2pCLFdBQVdHLE9BQ2xCLE1BQU0sSUFBSXFDLE1BQU0sMkNBR2xCdkIsS0FBS3dCLFNBQVcsR0FFaEJ4QixLQUFLeUIsZ0JBQWtCLElBQUkzQixnQkFHM0JFLEtBQUswQixVQUFXLEVBRWhCMUIsS0FBSzJCLElBQU03QyxTQUFTQyxHQUdwQixJQUFLLElBQUlrQyxFQUFJLEVBQUdBLEVBQUlHLEVBQVFRLFVBQVUxQyxPQUFRK0IsSUFBSyxDQUNqRCxJQUFJSixFQUFTTyxFQUFRUSxVQUFVWCxHQUMzQmpCLEtBQUs2QixNQUFNaEIsS0FFYkEsRUFBT2lCLFFBQVF6QyxLQUFLVyxNQUNwQkEsS0FBS3dCLFNBQVNuQyxLQUFLd0IsS0FTekJkLFVBQVVjLEdBQ1JBLEVBQU9pQixRQUFRekMsS0FBS1csTUFDcEJBLEtBQUt3QixTQUFTbkMsS0FBS3dCLEdBRW5CYixLQUFLeUIsZ0JBQWdCTSxjQUFjWixNQUFNYSxVQUFVQyxhQUFjcEIsR0FPbkVkLGFBQWFjLEdBQ1gsSUFBSUYsRUFBUVgsS0FBS3dCLFNBQVNmLFFBQVFJLElBQzdCRixJQUNIWCxLQUFLd0IsU0FBU1osT0FBT0QsRUFBTyxHQUU1QkEsRUFBUUUsRUFBT2lCLFFBQVFyQixRQUFRVCxNQUMvQmEsRUFBT2lCLFFBQVFsQixPQUFPRCxFQUFPLEdBRTdCWCxLQUFLeUIsZ0JBQWdCTSxjQUNuQlosTUFBTWEsVUFBVUUsZUFDaEJyQixJQUtOZCxNQUFNYyxHQUNKLE9BQ0VBLEVBQU9zQixpQkFBaUJuQyxLQUFLakIsY0FDNUI4QixFQUFPdUIsaUJBQWlCcEMsS0FBS3FCLGVBSWxDdEIsU0FDRSxNQUFPLENBQ0w0QixJQUFLM0IsS0FBSzJCLElBQ1ZELFNBQVUxQixLQUFLMEIsU0FDZlcsV0FBWSxDQUNWQyxTQUFVdEMsS0FBS2pCLFdBQVd3RCxJQUFJQyxHQUFLQSxFQUFFNUQsTUFDckM2RCxJQUFLekMsS0FBS3FCLGNBQWNrQixJQUFJQyxHQUFLQSxFQUFFNUQsT0FFckM4RCxZQUFhMUMsS0FBS3dCLFNBQVN0QyxRQU8vQmEsUUFDRSxNQUFPLENBQ0w0QyxjQUFlM0MsS0FBS2pCLFdBQVdHLE9BQy9Cd0QsWUFBYTFDLEtBQUt3QixTQUFTdEMsU0FLakNpQyxNQUFNYSxVQUFVQyxhQUFlLHFCQUMvQmQsTUFBTWEsVUFBVUUsZUFBaUIsdUJBQ2pDZixNQUFNYSxVQUFVWSxrQkFBb0IsMEJDdkc3QixNQUFNQyxPQUNYOUMsYUFDRSxHQUFzQyxJQUFsQ0MsS0FBSzhDLGtCQUFrQjVELE9BQWMsT0FBTyxFQUVoRCxJQUFLLElBQUkrQixFQUFJLEVBQUdBLEVBQUlqQixLQUFLOEMsa0JBQWtCNUQsT0FBUStCLElBQUssQ0FFdEQsR0FBOEIsSUFEbEJqQixLQUFLOEMsa0JBQWtCN0IsR0FDekJPLFNBQVN0QyxPQUNqQixPQUFPLEVBSVgsT0FBTyxFQUdUYSxZQUFZZ0QsRUFBT0MsR0FxQmpCLEdBcEJBaEQsS0FBSytDLE1BQVFBLEVBQ2IvQyxLQUFLaUQsU0FBVSxFQUdmakQsS0FBS2tELFNBQVcsR0FDaEJsRCxLQUFLOEIsUUFBVSxHQUVmOUIsS0FBS21ELFNBQVcsRUFHaEJuRCxLQUFLb0QsWUFBYyxFQUVmSixHQUFjQSxFQUFXRyxXQUMzQm5ELEtBQUttRCxTQUFXSCxFQUFXRyxVQUc3Qm5ELEtBQUs4QyxrQkFBb0IsR0FFekI5QyxLQUFLcUQsYUFBYyxFQUVmckQsS0FBS3NELFlBQVl4QixRQUNuQixJQUFLLElBQUl5QixLQUFhdkQsS0FBS3NELFlBQVl4QixRQUFTLENBQzlDLElBQUkwQixFQUFjeEQsS0FBS3NELFlBQVl4QixRQUFReUIsR0FDdkN4RSxFQUFheUUsRUFBWW5CLFdBQzdCLElBQUt0RCxHQUFvQyxJQUF0QkEsRUFBV0csT0FDNUIsTUFBTSxJQUFJcUMsTUFBTSxvREFFbEIsSUFBSWtDLEVBQVF6RCxLQUFLK0MsTUFBTVcsY0FBY0MsZ0JBQWdCNUUsR0FDckRpQixLQUFLa0QsU0FBU0ssR0FBYUUsR0FDRyxJQUExQkQsRUFBWUksV0FDZDVELEtBQUs4QyxrQkFBa0J6RCxLQUFLb0UsR0FFOUJ6RCxLQUFLOEIsUUFBUXlCLEdBQWEsQ0FDeEJNLFFBQVNKLEVBQU1qQyxVQUlqQixJQUFJc0MsRUFBYyxDQUFDLFFBQVMsVUFBVyxXQUV2QyxNQUFNQyxFQUFlLENBQ25CQyxNQUFPN0MsTUFBTWEsVUFBVUMsYUFDdkJnQyxRQUFTOUMsTUFBTWEsVUFBVUUsZUFDekJnQyxRQUFTL0MsTUFBTWEsVUFBVVksbUJBR3ZCWSxFQUFZVyxRQUNkTCxFQUFZeEMsUUFBUWpCLElBWWxCLEdBWEtMLEtBQUtvRSxTQUNSQyxRQUFRQyxLQUNOLFdBQ0V0RSxLQUFLc0QsWUFBWTFFLG9DQUNha0YsRUFBWXZFLEtBQzFDLHFCQUNlZ0Usc0RBS2pCQyxFQUFZVyxPQUFPOUQsR0FBWSxDQUNqQyxJQUFJa0UsRUFBUWYsRUFBWVcsT0FBTzlELEdBRS9CLEdBQWtCLFlBQWRBLEdBRUYsR0FEQW9ELEVBQU0vQixVQUFXLEdBQ0gsSUFBVjZDLEVBQWdCLENBRWxCLElBQUlDLEVBQWF4RSxLQUFLOEIsUUFBUXlCLEdBQVdsRCxHQUFhLEdBQ3REb0QsRUFBTWhDLGdCQUFnQmdELGlCQUNwQnRELE1BQU1hLFVBQVVZLGtCQUNoQi9CLEtBRXFDLElBQS9CMkQsRUFBVS9ELFFBQVFJLElBQ3BCMkQsRUFBVW5GLEtBQUt3QixVQUloQixHQUFJNkQsTUFBTUMsUUFBUUosR0FBUSxDQUMvQixJQUFJQyxFQUFheEUsS0FBSzhCLFFBQVF5QixHQUFXbEQsR0FBYSxHQUN0RG9ELEVBQU1oQyxnQkFBZ0JnRCxpQkFDcEJ0RCxNQUFNYSxVQUFVWSxrQkFDaEIsQ0FBQy9CLEVBQVErRCxNQUc0QyxJQUFqREwsRUFBTTlELFFBQVFtRSxFQUFpQnRCLGVBQ0EsSUFBL0JrQixFQUFVL0QsUUFBUUksSUFFbEIyRCxFQUFVbkYsS0FBS3dCLFVBMEJsQixDQUNMLElBQUkyRCxFQUFheEUsS0FBSzhCLFFBQVF5QixHQUFXbEQsR0FBYSxHQUV0RG9ELEVBQU1oQyxnQkFBZ0JnRCxpQkFDcEJWLEVBQWExRCxHQUNiUSxLQUVxQyxJQUEvQjJELEVBQVUvRCxRQUFRSSxJQUNwQjJELEVBQVVuRixLQUFLd0IsVUFXbkNkLE9BQ0VDLEtBQUtvRCxZQUFjLEVBQ25CcEQsS0FBS2lELFNBQVUsRUFHakJsRCxPQUNFQyxLQUFLaUQsU0FBVSxFQUlqQmxELGNBQ0UsSUFBSyxJQUFJd0QsS0FBYXZELEtBQUs4QixRQUFTLENBQ2xDLElBQUkyQixFQUFRekQsS0FBSzhCLFFBQVF5QixHQU96QixHQU5JRSxFQUFNTyxRQUNSUCxFQUFNTyxNQUFNOUUsT0FBUyxHQUVuQnVFLEVBQU1RLFVBQ1JSLEVBQU1RLFFBQVEvRSxPQUFTLEdBRXJCdUUsRUFBTVMsUUFDUixHQUFJUSxNQUFNQyxRQUFRbEIsRUFBTVMsU0FDdEJULEVBQU1TLFFBQVFoRixPQUFTLE9BRXZCLElBQUssSUFBSU4sS0FBUTZFLEVBQU1TLFFBQ3JCVCxFQUFNUyxRQUFRdEYsR0FBTU0sT0FBUyxHQU92Q2EsU0FDRSxJQUFJOEUsRUFBTyxDQUNUakcsS0FBTW9CLEtBQUtzRCxZQUFZMUUsS0FDdkJxRSxRQUFTakQsS0FBS2lELFFBQ2RHLFlBQWFwRCxLQUFLb0QsWUFDbEJELFNBQVVuRCxLQUFLbUQsU0FDZnJCLFFBQVMsSUFHWCxHQUFJOUIsS0FBS3NELFlBQVl4QixRQUFTLENBQzVCLElBQUlBLEVBQVU5QixLQUFLc0QsWUFBWXhCLFFBQy9CLElBQUssSUFBSXlCLEtBQWF6QixFQUFTLENBQzdCLElBQUkyQixFQUFRekQsS0FBSzhCLFFBQVF5QixHQUNyQnVCLEVBQWtCaEQsRUFBUXlCLEdBQzFCd0IsRUFBYUYsRUFBSy9DLFFBQVF5QixHQUFhLENBQ3pDNUIsSUFBSzNCLEtBQUtrRCxTQUFTSyxHQUFXNUIsS0FXaEMsR0FSQW9ELEVBQVVuQixXQUEwQyxJQUE5QmtCLEVBQWdCbEIsVUFDdENtQixFQUFVckQsU0FDUm9ELEVBQWdCWCxVQUNrQixJQUFqQ1csRUFBZ0JYLE9BQU9ILFFBQ2EsSUFBbkNjLEVBQWdCWCxPQUFPRixVQUNZLElBQW5DYSxFQUFnQlgsT0FBT0QsU0FDdkJRLE1BQU1DLFFBQVFHLEVBQWdCWCxPQUFPRCxVQUVyQ2EsRUFBVXJELFNBQVUsQ0FDdEJxRCxFQUFVWixPQUFTLEdBRUgsQ0FBQyxRQUFTLFVBQVcsV0FDN0I3QyxRQUFRMEQsSUFDVnZCLEVBQU11QixLQUNSRCxFQUFVWixPQUFPYSxHQUFVLENBQ3pCeEQsU0FBVWlDLEVBQU11QixHQUFROUYsYUFRcEMsT0FBTzJGLEdBSUosU0FBU0ksSUFBSXRHLEdBQ2xCLE1BQU8sQ0FDTFMsU0FBVSxNQUNWVCxVQUFXQSxHQy9OUixNQUFNdUcsY0FDWG5GLFlBQVlnRCxHQUNWL0MsS0FBS21GLFNBQVcsR0FDaEJuRixLQUFLb0YsZ0JBQWtCLEdBQ3ZCcEYsS0FBSytDLE1BQVFBLEVBQ2IvQyxLQUFLcUYsbUJBQXFCLEtBRzVCdEYsZUFBZXVGLEVBQWF0QyxHQUMxQixLQUFNc0MsRUFBWXRELHFCQUFxQmEsUUFDckMsTUFBTSxJQUFJdEIsTUFDUixXQUFXK0QsRUFBWTFHLHlDQUczQixRQUFvQzRCLElBQWhDUixLQUFLdUYsVUFBVUQsR0FFakIsT0FEQWpCLFFBQVFDLEtBQUssV0FBV2dCLEVBQVkxRyw2QkFDN0JvQixLQUdULElBQUl3RixFQUFTLElBQUlGLEVBQVl0RixLQUFLK0MsTUFBT0MsR0FRekMsT0FQSXdDLEVBQU9DLE1BQU1ELEVBQU9DLEtBQUt6QyxHQUM3QndDLEVBQU9FLE1BQVExRixLQUFLbUYsU0FBU2pHLE9BQzdCYyxLQUFLbUYsU0FBUzlGLEtBQUttRyxHQUNmQSxFQUFPcEIsVUFDVHBFLEtBQUtvRixnQkFBZ0IvRixLQUFLbUcsR0FDMUJ4RixLQUFLMkYsZUFFQTNGLEtBR1RELGlCQUFpQnVGLEdBQ2YsSUFBSUUsRUFBU3hGLEtBQUt1RixVQUFVRCxHQUM1QixZQUFlOUUsSUFBWGdGLEdBQ0ZuQixRQUFRQyxLQUNOLDBCQUEwQmdCLEVBQVkxRyw0QkFFakNvQixPQUdUQSxLQUFLbUYsU0FBU3ZFLE9BQU9aLEtBQUttRixTQUFTMUUsUUFBUStFLEdBQVMsR0FFaERBLEVBQU9wQixTQUNUcEUsS0FBS29GLGdCQUFnQnhFLE9BQU9aLEtBQUtvRixnQkFBZ0IzRSxRQUFRK0UsR0FBUyxHQUk3RHhGLE1BR1RELGNBQ0VDLEtBQUtvRixnQkFBZ0I5RixLQUFLLENBQUNzRyxFQUFHQyxJQUNyQkQsRUFBRXpDLFNBQVcwQyxFQUFFMUMsVUFBWXlDLEVBQUVGLE1BQVFHLEVBQUVILE9BSWxEM0YsVUFBVXVGLEdBQ1IsT0FBT3RGLEtBQUttRixTQUFTVyxLQUFLQyxHQUFLQSxhQUFhVCxHQUc5Q3ZGLGFBQ0UsT0FBT0MsS0FBS21GLFNBR2RwRixhQUFhdUYsR0FDWCxJQUFJM0UsRUFBUVgsS0FBS21GLFNBQVMxRSxRQUFRNkUsSUFDNUIzRSxHQUVOWCxLQUFLbUYsU0FBU3ZFLE9BQU9ELEVBQU8sR0FHOUJaLGNBQWN5RixFQUFRUSxFQUFPQyxHQUMzQixHQUFJVCxFQUFPbkMsYUFDTG1DLEVBQU9VLGFBQWMsQ0FDdkIsSUFBSUMsRUFBWXpHLE1BQ2hCOEYsRUFBT3BCLFFBQVE0QixFQUFPQyxHQUN0QlQsRUFBT3BDLFlBQWMxRCxNQUFReUcsRUFDN0JuRyxLQUFLcUYsbUJBQXFCRyxFQUMxQkEsRUFBT1ksZUFLYnJHLE9BQ0VDLEtBQUtvRixnQkFBZ0I5RCxRQUFRa0UsR0FBVUEsRUFBT2EsUUFHaER0RyxRQUFRaUcsRUFBT0MsRUFBTUssR0FDbkJ0RyxLQUFLb0YsZ0JBQWdCOUQsUUFDbkJrRSxJQUNHYyxHQUFhZCxFQUFPdkMsVUFBWWpELEtBQUt1RyxjQUFjZixFQUFRUSxFQUFPQyxJQUl6RWxHLFFBTUUsSUFMQSxJQUFJRyxFQUFRLENBQ1ZzRyxXQUFZeEcsS0FBS21GLFNBQVNqRyxPQUMxQnVILFFBQVMsSUFHRnhGLEVBQUksRUFBR0EsRUFBSWpCLEtBQUttRixTQUFTakcsT0FBUStCLElBQUssQ0FDN0MsSUFBSXVFLEVBQVN4RixLQUFLbUYsU0FBU2xFLEdBQ3ZCeUYsRUFBZXhHLEVBQU11RyxRQUFRakIsRUFBT2xDLFlBQVkxRSxNQUFRLENBQzFEa0QsUUFBUyxHQUNUc0IsWUFBYW9DLEVBQU9wQyxhQUV0QixJQUFLLElBQUl4RSxLQUFRNEcsRUFBT21CLElBQ3RCRCxFQUFZNUUsUUFBUWxELEdBQVE0RyxFQUFPbUIsSUFBSS9ILEdBQU1zQixRQUlqRCxPQUFPQSxHQ2pISSxNQUFNMEcsV0FFbkI3RyxZQUFZWixFQUFHMEgsR0FDYjdHLEtBQUs4RyxTQUFXLEdBQ2hCOUcsS0FBSytHLE1BQVEsRUFDYi9HLEtBQUtiLEVBQUlBLEVBQ1RhLEtBQUtnSCxjQUFlLEVBRXBCLElBQUlDLEVBQVksS0FDWkMsVUFBVWhJLE9BQVMsSUFDckIrSCxFQUFZdkMsTUFBTTFDLFVBQVVoQixNQUFNRSxLQUFLZ0csWUFDN0JDLFFBR1puSCxLQUFLb0gsY0FBZ0JILEVBQ2pCLElBQ1MsSUFBSTlILEtBQUs4SCxHQUVsQixJQUNTLElBQUk5SCxPQUdVLElBQWhCMEgsR0FDVDdHLEtBQUtxSCxPQUFPUixHQUloQjlHLFVBUUUsT0FOSUMsS0FBSzhHLFNBQVM1SCxRQUFVLEdBQzFCYyxLQUFLcUgsT0FBT0MsS0FBS0MsTUFBbUIsR0FBYnZILEtBQUsrRyxPQUFlLEdBR2xDL0csS0FBSzhHLFNBQVNVLE1BSzNCekgsUUFBUTBILEdBQ05BLEVBQUtDLFFBQ0wxSCxLQUFLOEcsU0FBU3pILEtBQUtvSSxHQUdyQjFILE9BQU9nSCxHQUNMLElBQUssSUFBSTlILEVBQUksRUFBR0EsRUFBSThILEVBQU85SCxJQUN6QmUsS0FBSzhHLFNBQVN6SCxLQUFLVyxLQUFLb0gsaUJBRTFCcEgsS0FBSytHLE9BQVNBLEVBR2hCaEgsWUFDRSxPQUFPQyxLQUFLK0csTUFHZGhILFlBQ0UsT0FBT0MsS0FBSzhHLFNBQVM1SCxPQUd2QmEsWUFDRSxPQUFPQyxLQUFLK0csTUFBUS9HLEtBQUs4RyxTQUFTNUgsUUNwRHRDLE1BQXFCeUksYUFDbkI1SCxZQUFZZ0QsR0FDVi9DLEtBQUs0SCxPQUFTN0UsRUFHZC9DLEtBQUtrRCxTQUFXLEdBR2xCbkQsZ0JBQWdCYyxHQUNkLElBQUssSUFBSTBDLEtBQWF2RCxLQUFLa0QsU0FBVSxDQUNuQyxJQUFJTyxFQUFRekQsS0FBS2tELFNBQVNLLElBQ2EsSUFBbkMxQyxFQUFPaUIsUUFBUXJCLFFBQVFnRCxJQUN6QkEsRUFBTW9FLGFBQWFoSCxJQVV6QmQsdUJBQXVCYyxFQUFRbEMsR0FJN0IsSUFBSyxJQUFJNEUsS0FBYXZELEtBQUtrRCxTQUFVLENBQ25DLElBQUlPLEVBQVF6RCxLQUFLa0QsU0FBU0ssSUFHckJFLEVBQU1wQyxjQUFjWixRQUFROUIsS0FDOUI4RSxFQUFNakMsU0FBU2YsUUFBUUksR0FFeEI0QyxFQUFNb0UsYUFBYWhILElBU2pCNEMsRUFBTTFFLFdBQVcwQixRQUFROUIsSUFDMUI4RSxFQUFNNUIsTUFBTWhCLE1BQ1o0QyxFQUFNakMsU0FBU2YsUUFBUUksSUFJMUI0QyxFQUFNcUUsVUFBVWpILElBU3BCZCx5QkFBeUJjLEVBQVFsQyxHQUMvQixJQUFLLElBQUk0RSxLQUFhdkQsS0FBS2tELFNBQVUsQ0FDbkMsSUFBSU8sRUFBUXpELEtBQUtrRCxTQUFTSyxJQUdyQkUsRUFBTXBDLGNBQWNaLFFBQVE5QixNQUM3QjhFLEVBQU1qQyxTQUFTZixRQUFRSSxJQUN6QjRDLEVBQU01QixNQUFNaEIsR0FFWjRDLEVBQU1xRSxVQUFVakgsSUFLYjRDLEVBQU0xRSxXQUFXMEIsUUFBUTlCLEtBQ3pCOEUsRUFBTWpDLFNBQVNmLFFBQVFJLEtBQ3pCNEMsRUFBTTVCLE1BQU1oQixJQUViNEMsRUFBTW9FLGFBQWFoSCxJQVV6QmQsU0FBU2hCLEdBQ1AsSUFBSTRDLEVBQU03QyxTQUFTQyxHQUNmMEUsRUFBUXpELEtBQUtrRCxTQUFTdkIsR0FJMUIsT0FISzhCLElBQ0h6RCxLQUFLa0QsU0FBU3ZCLEdBQU84QixFQUFRLElBQUl0QyxNQUFNcEMsRUFBWWlCLEtBQUs0SCxTQUVuRG5FLEVBTVQxRCxRQUNFLElBQUlHLEVBQVEsR0FDWixJQUFLLElBQUlxRCxLQUFhdkQsS0FBS2tELFNBQ3pCaEQsRUFBTXFELEdBQWF2RCxLQUFLa0QsU0FBU0ssR0FBV3JELFFBRTlDLE9BQU9BLEdDN0dKLE1BQU02SCxzQkFFYkEscUJBQXFCQyx3QkFBeUIsRUNROUMsTUFBYUMsY0FDWGxJLFlBQVlnRCxHQUNWL0MsS0FBSytDLE1BQVFBLEVBQ2IvQyxLQUFLa0ksa0JBQW9CbkYsRUFBTW1GLGtCQUcvQmxJLEtBQUs0QixVQUFZLEdBRWpCNUIsS0FBS21JLGlCQUFtQixHQUV4Qm5JLEtBQUtvSSxjQUFnQixJQUFJVCxhQUFhM0gsTUFDdENBLEtBQUt5QixnQkFBa0IsSUFBSTNCLGdCQUMzQkUsS0FBS3FJLFlBQWMsSUFBSXpCLFdBQ3JCNUcsS0FBSytDLE1BQU11RixRQUFRQyxZQUNuQnZJLEtBQUsrQyxNQUFNdUYsUUFBUUUsZ0JBSXJCeEksS0FBS3lJLCtCQUFpQyxHQUN0Q3pJLEtBQUswSSxpQkFBbUIsR0FDeEIxSSxLQUFLMkksd0JBQXlCLEVBR2hDNUksZ0JBQWdCbkIsR0FDZCxPQUFPb0IsS0FBS21JLGlCQUFpQnZKLEdBTS9CbUIsYUFBYW5CLEdBQ1gsSUFBSWlDLEVBQVNiLEtBQUtxSSxZQUFZTyxVQWM5QixPQWJBL0gsRUFBT2dJLE9BQVEsRUFDZmhJLEVBQU9qQyxLQUFPQSxHQUFRLEdBQ2xCQSxJQUNFb0IsS0FBS21JLGlCQUFpQnZKLEdBQ3hCeUYsUUFBUUMsS0FBSyxnQkFBZ0IxRixvQkFFN0JvQixLQUFLbUksaUJBQWlCdkosR0FBUWlDLEdBSWxDQSxFQUFPK0csT0FBUzVILEtBQ2hCQSxLQUFLNEIsVUFBVXZDLEtBQUt3QixHQUNwQmIsS0FBS3lCLGdCQUFnQk0sY0FBYytHLGVBQWdCakksR0FDNUNBLEVBV1RkLG1CQUFtQmMsRUFBUWxDLEVBQVdvSyxHQUNwQyxJQUFLbEksRUFBT21JLGdCQUFnQnZJLFFBQVE5QixHQUVsQzBGLFFBQVFDLEtBQ04sMkNBQ0F6RCxFQUNBbEMsRUFBVUMsVUFMZCxDQVVBaUMsRUFBT21JLGdCQUFnQjNKLEtBQUtWLEdBRXhCQSxFQUFVc0ssWUFBY2xCLHNCQUMxQmxILEVBQU9xSSxxQkFHVCxJQUdJcEksRUFIZ0JkLEtBQUsrQyxNQUFNbUYsa0JBQWtCaUIsa0JBQy9DeEssR0FFNEJpSyxVQUk5QixHQUZBL0gsRUFBT3VJLFlBQVl6SyxFQUFVQyxNQUFRa0MsRUFFakNpSSxFQUNGLEdBQUlqSSxFQUFVdUksS0FDWnZJLEVBQVV1SSxLQUFLTixRQUVmLElBQUssSUFBSW5LLEtBQVFtSyxFQUNmakksRUFBVWxDLEdBQVFtSyxFQUFPbkssR0FLL0JvQixLQUFLb0ksY0FBY2tCLHVCQUF1QnpJLEVBQVFsQyxHQUNsRHFCLEtBQUsrQyxNQUFNbUYsa0JBQWtCcUIsdUJBQXVCNUssR0FFcERxQixLQUFLeUIsZ0JBQWdCTSxjQUFjeUgsZ0JBQWlCM0ksRUFBUWxDLElBUzlEb0Isc0JBQXNCYyxFQUFRbEMsRUFBVzhLLEdBQ3ZDLElBQUk5SSxFQUFRRSxFQUFPbUksZ0JBQWdCdkksUUFBUTlCLEdBQzNDLElBQU1nQyxFQUFOLENBSUEsR0FGQVgsS0FBS3lCLGdCQUFnQk0sY0FBYzJILGlCQUFrQjdJLEVBQVFsQyxHQUV6RDhLLEVBQ0Z6SixLQUFLMkosMkJBQTJCOUksRUFBUWxDLEVBQVdnQyxPQUM5QyxDQUN5QyxJQUExQ0UsRUFBTytJLHdCQUF3QjFLLFFBQ2pDYyxLQUFLeUksK0JBQStCcEosS0FBS3dCLEdBRTNDQSxFQUFPbUksZ0JBQWdCcEksT0FBT0QsRUFBTyxHQUNyQ0UsRUFBTytJLHdCQUF3QnZLLEtBQUtWLEdBRXBDLElBQUlrTCxFQUFnQm5MLFFBQVFDLEdBQzVCa0MsRUFBT2lKLG9CQUFvQkQsR0FDekJoSixFQUFPdUksWUFBWVMsVUFDZGhKLEVBQU91SSxZQUFZUyxHQUk1QjdKLEtBQUtvSSxjQUFjMkIseUJBQXlCbEosRUFBUWxDLEdBRWhEQSxFQUFVc0ssWUFBY2xCLHVCQUMxQmxILEVBQU9xSSxxQkFHMkIsSUFBOUJySSxFQUFPcUksb0JBQTZCckksRUFBT2dJLE9BQzdDaEksRUFBT21KLFdBS2JqSywyQkFBMkJjLEVBQVFsQyxFQUFXZ0MsR0FFNUNFLEVBQU9tSSxnQkFBZ0JwSSxPQUFPRCxFQUFPLEdBQ3JDLElBQUlzSixFQUFXcEwsc0JBQXNCRixHQUNqQ2tMLEVBQWdCbkwsUUFBUUMsR0FDeEJtQyxFQUFZRCxFQUFPdUksWUFBWVMsVUFDNUJoSixFQUFPdUksWUFBWVMsR0FDMUI3SixLQUFLa0ksa0JBQWtCZ0MsZUFBZUQsR0FBVUUsUUFBUXJKLEdBQ3hEZCxLQUFLK0MsTUFBTW1GLGtCQUFrQmtDLDJCQUEyQnpMLEdBTzFEb0IsMEJBQTBCYyxFQUFRNEksR0FDaEMsSUFBSTFLLEVBQWE4QixFQUFPbUksZ0JBRXhCLElBQUssSUFBSXFCLEVBQUl0TCxFQUFXRyxPQUFTLEVBQUdtTCxHQUFLLEVBQUdBLElBQ3RDdEwsRUFBV3NMLEdBQUdwQixZQUFjbEIsc0JBQzlCL0gsS0FBS3NLLHNCQUFzQnpKLEVBQVE5QixFQUFXc0wsR0FBSVosR0FTeEQxSixhQUFhYyxFQUFRNEksR0FDbkIsSUFBSTlJLEVBQVFYLEtBQUs0QixVQUFVbkIsUUFBUUksR0FFbkMsS0FBTUYsRUFBTyxNQUFNLElBQUlZLE1BQU0sc0NBRTdCVixFQUFPZ0ksT0FBUSxFQUVtQixJQUE5QmhJLEVBQU9xSSxxQkFFVGxKLEtBQUt5QixnQkFBZ0JNLGNBQWNHLGVBQWdCckIsR0FDbkRiLEtBQUtvSSxjQUFjbUMsZ0JBQWdCMUosSUFDZixJQUFoQjRJLEVBQ0Z6SixLQUFLd0ssZUFBZTNKLEVBQVFGLEdBRTVCWCxLQUFLMEksaUJBQWlCckosS0FBS3dCLElBSS9CYixLQUFLeUssMEJBQTBCNUosRUFBUTRJLEdBR3pDMUosZUFBZWMsRUFBUUYsR0FDckJYLEtBQUs0QixVQUFVaEIsT0FBT0QsRUFBTyxHQUV6QlgsS0FBS21JLGlCQUFpQnRILEVBQU9qQyxjQUN4Qm9CLEtBQUttSSxpQkFBaUJ0SCxFQUFPakMsTUFJdENpQyxFQUFPK0csT0FBUyxLQUNoQjVILEtBQUtxSSxZQUFZOEIsUUFBUXRKLEdBTTNCZCxvQkFDRSxJQUFLLElBQUlrQixFQUFJakIsS0FBSzRCLFVBQVUxQyxPQUFTLEVBQUcrQixHQUFLLEVBQUdBLElBQzlDakIsS0FBSzZILGFBQWE3SCxLQUFLNEIsVUFBVVgsSUFJckNsQix5QkFDRSxHQUFLQyxLQUFLMkksdUJBQVYsQ0FJQSxJQUFLLElBQUkxSCxFQUFJLEVBQUdBLEVBQUlqQixLQUFLMEksaUJBQWlCeEosT0FBUStCLElBQUssQ0FDckQsSUFBSUosRUFBU2IsS0FBSzBJLGlCQUFpQnpILEdBQy9CTixFQUFRWCxLQUFLNEIsVUFBVW5CLFFBQVFJLEdBQ25DYixLQUFLd0ssZUFBZTNKLEVBQVFGLEdBRTlCWCxLQUFLMEksaUJBQWlCeEosT0FBUyxFQUUvQixJQUFLLElBQUkrQixFQUFJLEVBQUdBLEVBQUlqQixLQUFLeUksK0JBQStCdkosT0FBUStCLElBQUssQ0FDbkUsSUFBSUosRUFBU2IsS0FBS3lJLCtCQUErQnhILEdBQ2pELEtBQU9KLEVBQU8rSSx3QkFBd0IxSyxPQUFTLEdBQUcsQ0FDaEQsSUFBSVAsRUFBWWtDLEVBQU8rSSx3QkFBd0JwQyxNQUUvQyxJQUFJeUMsRUFBV3BMLHNCQUFzQkYsR0FDakNrTCxFQUFnQm5MLFFBQVFDLEdBQ3hCbUMsRUFBWUQsRUFBT2lKLG9CQUFvQkQsVUFDcENoSixFQUFPaUosb0JBQW9CRCxHQUNsQzdKLEtBQUtrSSxrQkFBa0JnQyxlQUFlRCxHQUFVRSxRQUFRckosR0FDeERkLEtBQUsrQyxNQUFNbUYsa0JBQWtCa0MsMkJBQTJCekwsSUFNNURxQixLQUFLeUksK0JBQStCdkosT0FBUyxHQU8vQ2EsZ0JBQWdCaEIsR0FDZCxPQUFPaUIsS0FBS29JLGNBQWNzQyxTQUFTM0wsR0FRckNnQixRQUNFLE9BQU9DLEtBQUs0QixVQUFVMUMsT0FNeEJhLFFBQ0UsSUFBSUcsRUFBUSxDQUNWd0MsWUFBYTFDLEtBQUs0QixVQUFVMUMsT0FDNUJ5TCxXQUFZQyxPQUFPQyxLQUFLN0ssS0FBS29JLGNBQWNsRixVQUFVaEUsT0FDckQ0QyxRQUFTOUIsS0FBS29JLGNBQWNsSSxRQUM1QjRLLGlCQUFrQkYsT0FBT0MsS0FBSzdLLEtBQUtrSSxrQkFBa0JnQyxnQkFDbERoTCxPQUNINkwsY0FBZSxHQUNmdEosZ0JBQWlCekIsS0FBS3lCLGdCQUFnQnZCLE9BR3hDLElBQUssSUFBSThLLEtBQVNoTCxLQUFLa0ksa0JBQWtCZ0MsZUFBZ0IsQ0FDdkQsSUFBSWUsRUFBT2pMLEtBQUtrSSxrQkFBa0JnQyxlQUFlYyxHQUNqRDlLLEVBQU02SyxjQUFjQyxHQUFTLENBQzNCRSxLQUFNRCxFQUFLRSxZQUNYQyxLQUFNSCxFQUFLbEUsT0FJZixPQUFPN0csR0FJWCxNQUFNNEksZUFBaUIsOEJBQ2pCNUcsZUFBaUIsK0JBQ2pCc0gsZ0JBQWtCLGdDQUNsQkUsaUJBQW1CLGlDQ3RTVixNQUFNMkIsZ0JBQ25CdEwsWUFBWVosR0FDVmEsS0FBS3NMLG1CQUFvQixFQUN6QnRMLEtBQUsrRyxNQUFRLEVBQ2IvRyxLQUFLa0wsS0FBTyxFQUNabEwsS0FBS2IsRUFBSUEsRUFHWFksVUFHRSxPQUZBQyxLQUFLa0wsT0FDTGxMLEtBQUsrRyxRQUNFLElBQUkvRyxLQUFLYixFQUdsQlksVUFDRUMsS0FBS2tMLE9BR1BuTCxZQUNFLE9BQU9DLEtBQUsrRyxNQUdkaEgsWUFDRSxPQUFPd0wsRUFBQUEsRUFHVHhMLFlBQ0UsT0FBT0MsS0FBS2tMLE1DdkJULE1BQU1NLGlCQUNYekwsY0FDRUMsS0FBS2pCLFdBQWEsR0FDbEJpQixLQUFLa0ssZUFBaUIsR0FDdEJsSyxLQUFLMkMsY0FBZ0IsR0FHdkI1QyxrQkFBa0JwQixHQUNacUIsS0FBS2pCLFdBQVdKLEVBQVVDLE1BQzVCeUYsUUFBUUMsS0FBSyxvQkFBb0IzRixFQUFVQyw4QkFJN0NvQixLQUFLakIsV0FBV0osRUFBVUMsTUFBUUQsRUFDbENxQixLQUFLMkMsY0FBY2hFLEVBQVVDLE1BQVEsR0FHdkNtQix1QkFBdUJwQixHQUNoQnFCLEtBQUtqQixXQUFXSixFQUFVQyxPQUM3Qm9CLEtBQUt5TCxrQkFBa0I5TSxHQUd6QnFCLEtBQUsyQyxjQUFjaEUsRUFBVUMsUUFHL0JtQiwyQkFBMkJwQixHQUN6QnFCLEtBQUsyQyxjQUFjaEUsRUFBVUMsUUFHL0JtQixrQkFBa0JwQixHQUNoQixJQUFJa0wsRUFBZ0JoTCxzQkFBc0JGLEdBYTFDLE9BWEtxQixLQUFLa0ssZUFBZUwsS0FDbkJsTCxFQUFVcUQsVUFBVTBGLE1BQ3RCMUgsS0FBS2tLLGVBQWVMLEdBQWlCLElBQUlqRCxXQUFXakksSUFFcEQwRixRQUFRQyxLQUNOLGNBQWMzRixFQUFVQyxnRkFFMUJvQixLQUFLa0ssZUFBZUwsR0FBaUIsSUFBSXdCLGdCQUFnQjFNLEtBSXREcUIsS0FBS2tLLGVBQWVMLG83RUM5Q25CLE1BQUM2QixRQUFVQyxNQUFNQyxRQ0s3QixJQUFJQyxPQUFTLEVBRWIsTUFBYUMsT0FDWC9MLFlBQVlnRCxHQUNWL0MsS0FBSzRILE9BQVM3RSxHQUFTLEtBR3ZCL0MsS0FBSytMLEdBQUtGLFNBR1Y3TCxLQUFLZ0osZ0JBQWtCLEdBR3ZCaEosS0FBS29KLFlBQWMsR0FFbkJwSixLQUFLOEosb0JBQXNCLEdBRzNCOUosS0FBSzhCLFFBQVUsR0FHZjlCLEtBQUs0Six3QkFBMEIsR0FFL0I1SixLQUFLNkksT0FBUSxFQUdiN0ksS0FBS2tKLG1CQUFxQixFQUs1Qm5KLGFBQWFwQixFQUFXcU4sR0FDdEIsSUFBSWxMLEVBQVlkLEtBQUtvSixZQUFZekssRUFBVUMsTUFNM0MsT0FKS2tDLElBQWdDLElBQW5Ca0wsSUFDaEJsTCxFQUFZZCxLQUFLOEosb0JBQW9CbkwsRUFBVUMsT0FHYWtDLEVBR2hFZixvQkFBb0JwQixHQUNsQixPQUFPcUIsS0FBSzhKLG9CQUFvQm5MLEVBQVVDLE1BRzVDbUIsZ0JBQ0UsT0FBT0MsS0FBS29KLFlBR2RySix3QkFDRSxPQUFPQyxLQUFLOEosb0JBR2QvSixvQkFDRSxPQUFPQyxLQUFLZ0osZ0JBR2RqSixvQkFBb0JwQixHQUVsQixJQURBLElBQUltQyxFQUFZZCxLQUFLb0osWUFBWXpLLEVBQVVDLE1BQ2xDcUMsRUFBSSxFQUFHQSxFQUFJakIsS0FBSzhCLFFBQVE1QyxPQUFRK0IsSUFBSyxDQUM1QyxJQUFJd0MsRUFBUXpELEtBQUs4QixRQUFRYixHQUdyQndDLEVBQU0vQixXQUFxRCxJQUF6QytCLEVBQU0xRSxXQUFXMEIsUUFBUTlCLElBQzdDOEUsRUFBTWhDLGdCQUFnQk0sY0FDcEJaLE1BQU1hLFVBQVVZLGtCQUNoQjVDLEtBQ0FjLEdBSU4sT0FBT0EsRUFHVGYsYUFBYXBCLEVBQVdvSyxHQUV0QixPQURBL0ksS0FBSzRILE9BQU9xRSxtQkFBbUJqTSxLQUFNckIsRUFBV29LLEdBQ3pDL0ksS0FHVEQsZ0JBQWdCcEIsRUFBV3VOLEdBRXpCLE9BREFsTSxLQUFLNEgsT0FBTzBDLHNCQUFzQnRLLEtBQU1yQixFQUFXdU4sR0FDNUNsTSxLQUdURCxhQUFhcEIsRUFBV3FOLEdBQ3RCLFNBQ0toTSxLQUFLZ0osZ0JBQWdCdkksUUFBUTlCLEtBQ1osSUFBbkJxTixHQUEyQmhNLEtBQUttTSxvQkFBb0J4TixHQUl6RG9CLG9CQUFvQnBCLEdBQ2xCLFNBQVVxQixLQUFLNEosd0JBQXdCbkosUUFBUTlCLEdBR2pEb0IsaUJBQWlCaEIsR0FDZixJQUFLLElBQUlrQyxFQUFJLEVBQUdBLEVBQUlsQyxFQUFXRyxPQUFRK0IsSUFDckMsSUFBS2pCLEtBQUtvTSxhQUFhck4sRUFBV2tDLElBQUssT0FBTyxFQUVoRCxPQUFPLEVBR1RsQixpQkFBaUJoQixHQUNmLElBQUssSUFBSWtDLEVBQUksRUFBR0EsRUFBSWxDLEVBQVdHLE9BQVErQixJQUNyQyxHQUFJakIsS0FBS29NLGFBQWFyTixFQUFXa0MsSUFBSyxPQUFPLEVBRS9DLE9BQU8sRUFHVGxCLG9CQUFvQm1NLEdBQ2xCLE9BQU9sTSxLQUFLNEgsT0FBTzZDLDBCQUEwQnpLLEtBQU1rTSxHQU1yRG5NLFFBQ0VDLEtBQUsrTCxHQUFLRixTQUNWN0wsS0FBSzRILE9BQVMsS0FDZDVILEtBQUtnSixnQkFBZ0I5SixPQUFTLEVBQzlCYyxLQUFLOEIsUUFBUTVDLE9BQVMsRUFDdEJjLEtBQUtvSixZQUFjLEdBR3JCckosT0FBT21NLEdBQ0wsT0FBT2xNLEtBQUs0SCxPQUFPQyxhQUFhN0gsS0FBTWtNLElDNUgxQyxNQUFNRyxnQkFBa0IsQ0FDdEI3RCxlQUFnQixFQUNoQkQsWUFBYXVELFFBR2YsTUFBYVEsTUFDWHZNLFlBQVl1SSxFQUFVLElBV3BCLEdBVkF0SSxLQUFLc0ksUUFBVXNDLE9BQU8yQixPQUFPLEdBQUlGLGdCQUFpQi9ELEdBRWxEdEksS0FBS2tJLGtCQUFvQixJQUFJc0QsaUJBQWlCeEwsTUFDOUNBLEtBQUswRCxjQUFnQixJQUFJdUUsY0FBY2pJLE1BQ3ZDQSxLQUFLd00sY0FBZ0IsSUFBSXRILGNBQWNsRixNQUV2Q0EsS0FBS2lELFNBQVUsRUFFZmpELEtBQUt5TSxZQUFjLEdBRWZqTixXQUFvQyxvQkFBaEJrTixZQUE2QixDQUNuRCxJQUFJbkksRUFBUSxJQUFJbUksWUFBWSxxQkFBc0IsQ0FDaERDLE9BQVEsQ0FBRTVKLE1BQU8vQyxLQUFNNEwsUUFBU0YsV0FFbENqTSxPQUFPc0MsY0FBY3dDLEdBR3ZCdkUsS0FBSzRNLFNBQVdsTixNQUdsQkssa0JBQWtCcEIsR0FFaEIsT0FEQXFCLEtBQUtrSSxrQkFBa0J1RCxrQkFBa0I5TSxHQUNsQ3FCLEtBR1RELGVBQWU4QyxFQUFRRyxHQUVyQixPQURBaEQsS0FBS3dNLGNBQWNLLGVBQWVoSyxFQUFRRyxHQUNuQ2hELEtBR1RELGlCQUFpQjhDLEdBRWYsT0FEQTdDLEtBQUt3TSxjQUFjTSxpQkFBaUJqSyxHQUM3QjdDLEtBR1RELFVBQVV1RixHQUNSLE9BQU90RixLQUFLd00sY0FBY2pILFVBQVVELEdBR3RDdkYsYUFDRSxPQUFPQyxLQUFLd00sY0FBY08sYUFHNUJoTixRQUFRaUcsRUFBT0MsR0FDUkQsSUFFSEEsR0FEQUMsRUFBT3ZHLE9BQ1FNLEtBQUs0TSxTQUNwQjVNLEtBQUs0TSxTQUFXM0csR0FHZGpHLEtBQUtpRCxVQUNQakQsS0FBS3dNLGNBQWNwSSxRQUFRNEIsRUFBT0MsR0FDbENqRyxLQUFLMEQsY0FBY3NKLDBCQUl2QmpOLE9BQ0VDLEtBQUtpRCxTQUFVLEVBR2pCbEQsT0FDRUMsS0FBS2lELFNBQVUsRUFHakJsRCxhQUFhbkIsR0FDWCxPQUFPb0IsS0FBSzBELGNBQWN1SixhQUFhck8sR0FHekNtQixRQUNFLElBQUlHLEVBQVEsQ0FDVnNCLFNBQVV4QixLQUFLMEQsY0FBY3hELFFBQzdCc0YsT0FBUXhGLEtBQUt3TSxjQUFjdE0sU0FHN0JtRSxRQUFRNkksSUFBSUMsS0FBS0MsVUFBVWxOLEVBQU8sS0FBTSxLQ3hGckMsTUFBTXZCLFdBRWJBLFVBQVUwTyxhQUFjLEVDRmpCLE1BQU1DLGFBQ1h2TixVQ0RLLFNBQVN3TixXQUFXQyxHQUN6QixJQU9JQyxFQVBxQixDQUN2QixTQUNBLFFBQ0EsU0FJMENDLE9BQU9DLElBQ3pDSCxFQUFlRyxJQUd6QixHQUFJRixFQUFtQnZPLE9BQVMsRUFDOUIsTUFBTSxJQUFJcUMsTUFDUiw0RUFBNEVrTSxFQUFtQmxPLEtBQzdGLFNBTU4sT0FEQWlPLEVBQWVJLFFBQVMsRUFDakJKLEVEakJURixhQUFhTyxnQkFBaUIsRUVDM0IsSUFBQ0MsTUFBUSxHQUVaQSxNQUFNQyxPQUFTUixXQUFXLENBQ3hCUyxTQUFVRCxPQUNWRSxjQUFjLEVBQ2RDLE9BQVFDLFFBQ3lCLElBQWpCQSxFQUErQkEsRUFBZSxFQUU5RHpHLE1BQU8sQ0FBQzBHLEVBQUt6TSxFQUFLd00sS0FFZEMsRUFBSXpNLFFBRHNCLElBQWpCd00sRUFDRUEsRUFFQSxHQUdmRSxNQUFPLENBQUNELEVBQUt6TSxLQUNYeU0sRUFBSXpNLEdBQU8sS0FJZm1NLE1BQU1RLFFBQVVmLFdBQVcsQ0FDekJTLFNBQVVNLFFBQ1ZMLGNBQWMsRUFDZEMsT0FBUUMsUUFDeUIsSUFBakJBLEdBQStCQSxFQUUvQ3pHLE1BQU8sQ0FBQzBHLEVBQUt6TSxFQUFLd00sS0FFZEMsRUFBSXpNLFFBRHNCLElBQWpCd00sR0FDRUEsR0FLZkUsTUFBTyxDQUFDRCxFQUFLek0sS0FDWHlNLEVBQUl6TSxJQUFPLEtBSWZtTSxNQUFNUyxPQUFTaEIsV0FBVyxDQUN4QlMsU0FBVU8sT0FDVk4sY0FBYyxFQUNkQyxPQUFRQyxRQUN5QixJQUFqQkEsRUFBK0JBLEVBQWUsR0FFOUR6RyxNQUFPLENBQUMwRyxFQUFLek0sRUFBS3dNLEtBRWRDLEVBQUl6TSxRQURzQixJQUFqQndNLEVBQ0VBLEVBRUEsSUFHZkUsTUFBTyxDQUFDRCxFQUFLek0sS0FDWHlNLEVBQUl6TSxHQUFPLE1BSWZtTSxNQUFNcEosTUFBUTZJLFdBQVcsQ0FDdkJTLFNBQVV0SixNQUNWd0osT0FBUUMsUUFDc0IsSUFBakJBLEVBQ0ZBLEVBQWFuTixRQUdmLEdBRVQwRyxNQUFPLENBQUMwRyxFQUFLek0sRUFBS3dNLFVBQ1ksSUFBakJBLEVBQ1RDLEVBQUl6TSxHQUFPd00sRUFBYW5OLFFBRXhCb04sRUFBSXpNLEdBQUt6QyxPQUFTLEdBR3RCbVAsTUFBTyxDQUFDRCxFQUFLek0sS0FDWHlNLEVBQUl6TSxHQUFLekMsT0FBUyxHQUVwQm1LLEtBQU0sQ0FBQytFLEVBQUtJLEVBQUs3TSxLQUNmeU0sRUFBSXpNLEdBQU82TSxFQUFJN00sR0FBS1gsV0MvRXhCLElBQUl5TixjQUFnQixDQUNsQkMsT0FBUVosTUFBTUMsT0FDZFksUUFBU2IsTUFBTVEsUUFDZk0sT0FBUWQsTUFBTVMsUUFTVCxTQUFTTSxVQUFVQyxHQUN4QixPQUFJcEssTUFBTUMsUUFBUW1LLEdBQ1RoQixNQUFNcEosTUFHWCtKLHFCQUFxQkssR0FDaEJMLHFCQUFxQkssR0FFckIsS0NwQkosU0FBU0MscUJBQXFCQyxFQUFRcFEsR0FFM0MsSUFBSyxJQUFJK0MsS0FBT3FOLEVBQVEsQ0FDWEEsRUFBT3JOLEdBQUtzTixPQUVyQkQsRUFBT3JOLEdBQUtzTixLQUFPSixVQUFVRyxFQUFPck4sR0FBS3VOLFVBSTdDLElBQUl2USxFQUFZLFdBQ2QsSUFBSyxJQUFJZ0QsS0FBT3FOLEVBQVEsQ0FDdEIsSUFBSUcsRUFBT0gsRUFBT3JOLEdBQ2xCLElBQUlzTixFQUFPRSxFQUFLRixLQUNaQSxHQUFRQSxFQUFLckIsT0FDZjVOLEtBQUsyQixHQUFPc04sRUFBS2YsT0FBT2lCLEVBQUtELFNBRTdCbFAsS0FBSzJCLEdBQU93TixFQUFLRCxlQUtILElBQVR0USxHQUNUZ00sT0FBT3dFLGVBQWV6USxFQUFXLE9BQVEsQ0FBRW1RLE1BQU9sUSxJQUdwREQsRUFBVXFELFVBQVVnTixPQUFTQSxFQUU3QixJQUFJSyxHQUFhLEVBQ2pCLElBQUssSUFBSTFOLEtBQU9xTixFQUFRLENBQ3RCLElBQUlHLEVBQU9ILEVBQU9yTixHQUNid04sRUFBS0YsT0FDUkUsRUFBS0YsS0FBT0osVUFBVU0sRUFBS0QsVUFHbEJDLEVBQUtGLE9BRWQ1SyxRQUFRQyxLQUFLLDBDQUEwQzNDLE1BQ3ZEME4sR0FBYSxHQUlqQixHQUFLQSxFQVNFLENBQ0wxUSxFQUFVcUQsVUFBVXFILEtBQU8sU0FBUytFLEdBQ2xDLElBQUssSUFBSXpNLEtBQU9xTixFQUNkLEdBQUlaLEVBQUl6TSxHQUFNLENBQ1osSUFBSXNOLEVBQU9ELEVBQU9yTixHQUFLc04sS0FDbkJBLEVBQUtoQixhQUNQak8sS0FBSzJCLEdBQU95TSxFQUFJek0sR0FDUHNOLEVBQUs1RixLQUNkNEYsRUFBSzVGLEtBQUtySixLQUFNb08sRUFBS3pNLEdBSXJCMEMsUUFBUUMsS0FDTix3Q0FBd0MzQyxrQkFPbERoRCxFQUFVcUQsVUFBVTBGLE1BQVEsV0FDMUIsSUFBSyxJQUFJL0YsS0FBT3FOLEVBQVEsQ0FDdEIsSUFBSUcsRUFBT0gsRUFBT3JOLEdBQ2RzTixFQUFPRSxFQUFLRixLQUNaQSxFQUFLdkgsT0FBT3VILEVBQUt2SCxNQUFNMUgsS0FBTTJCLEVBQUt3TixFQUFLRCxXQUkvQ3ZRLEVBQVVxRCxVQUFVcU0sTUFBUSxXQUMxQixJQUFLLElBQUkxTSxLQUFPcU4sRUFBUSxDQUN0QixJQUFJQyxFQUFPRCxFQUFPck4sR0FBS3NOLEtBQ25CQSxFQUFLWixPQUFPWSxFQUFLWixNQUFNck8sS0FBTTJCLEtBSXJDLElBQUssSUFBSUEsS0FBT3FOLEVBQVEsQ0FDdEIsSUFBSUcsRUFBT0gsRUFBT3JOLEdBQ2RzTixFQUFPRSxFQUFLRixLQUNoQnRRLEVBQVVxRCxVQUFVTCxHQUFPd04sRUFBS0QsUUFFNUJELEVBQUt2SCxPQUNQdUgsRUFBS3ZILE1BQU0vSSxFQUFVcUQsVUFBV0wsRUFBS3dOLEVBQUtELGVBN0M5QyxJQUFLLElBQUl2TixLQUpUMEMsUUFBUUMsS0FDTixnSUFHYzBLLEVBQVEsQ0FDdEIsSUFBSUcsRUFBT0gsRUFBT3JOLEdBQ2xCaEQsRUFBVXFELFVBQVVMLEdBQU93TixFQUFLRCxRQWdEcEMsT0FBT3ZRLEVDbEdGLFNBQVMyUSxXQUFXcFEsR0FJekIsSUFIQSxJQUFJcVEsRUFBUyxHQUNUQyxFQUFhLHVDQUNiQyxFQUFtQkQsRUFBV3RRLE9BQ3pCK0IsRUFBSSxFQUFHQSxFQUFJL0IsRUFBUStCLElBQzFCc08sR0FBVUMsRUFBV0UsT0FBT3BJLEtBQUtxSSxNQUFNckksS0FBS3NJLFNBQVdILElBRXpELE9BQU9GLEVBR0YsU0FBU00sYUFBYXpCLEVBQUswQixHQUNoQyxJQUFJQyxFQUFTQyxTQUFTNUksY0FBYyxVQUVwQzJJLEVBQU8zQixJQUFNQSxFQUNiMkIsRUFBT0UsT0FBU0gsR0FDZkUsU0FBU0UsTUFBUUYsU0FBU0csaUJBQWlCQyxZQUFZTCxHQ1gxRCxTQUFTTSxxQkFBcUJDLEdBQ1IsQ0FBQyxRQUFTLFVBQVcsT0FDM0JoUCxRQUFRSyxJQUNwQixHQUE0QixtQkFBakIwQyxRQUFRMUMsR0FBcUIsQ0FDdEMsSUFBSTRPLEVBQUtsTSxRQUFRMUMsR0FBSy9CLEtBQUt5RSxTQUMzQkEsUUFBUTFDLEdBQU8sSUFBSTZPLEtBQ2pCRixFQUFXRyxLQUFLLENBQ2R6TCxPQUFRLFVBQ1JpSyxLQUFNdE4sRUFDTjZPLEtBQU1yRCxLQUFLQyxVQUFVb0QsS0FFaEJELEVBQUdHLE1BQU0sS0FBTUYsT0FLNUIvUSxPQUFPZ0YsaUJBQWlCLFFBQVNrTSxJQUMvQkwsRUFBV0csS0FBSyxDQUNkekwsT0FBUSxRQUNSMkwsTUFBT3hELEtBQUtDLFVBQVUsQ0FDcEJ3RCxRQUFTRCxFQUFNQSxNQUFNQyxRQUNyQkMsTUFBT0YsRUFBTUEsTUFBTUUsWUFNM0IsU0FBU0Msb0JBQW9CQyxHQUMzQixJQUFJQyxFQUFVaEIsU0FBUzVJLGNBQWMsT0FxQnJDLE9BcEJBNEosRUFBUUMsTUFBTUMsUUFBVSxtVEFpQnhCRixFQUFRRyxVQUFZLDBGQUEwRkosNEVBQzlHZixTQUFTb0IsS0FBS2hCLFlBQVlZLEdBRW5CQSxFQUdGLFNBQVNLLHFCQUFxQk4sVUFDbkMsSUFBS3ZSLFVBRUgsWUFEQTZFLFFBQVFDLEtBQUsscURBSWY3RSxPQUFPNlIsZ0JBQWtCLEtBQ3ZCN1IsT0FBTzhSLGFBQWFsRCxRQUNwQjBDLFNBQVd6QixXQUFXLEdBQ3RCN1AsT0FBTzhSLGFBQWFDLFFBQVEsZUFBZ0JULFVBQzVDdFIsT0FBT2dTLFNBQVNDLFFBQU8sSUFHekJYLFNBQVdBLFVBQVl0UixPQUFPOFIsYUFBYUksUUFBUSxnQkFDOUNaLFdBQ0hBLFNBQVd6QixXQUFXLEdBQ3RCN1AsT0FBTzhSLGFBQWFDLFFBQVEsZUFBZ0JULFdBRzlDLElBQUlDLFFBQVVGLG9CQUFvQkMsVUFFbEN0UixPQUFPbVMsaUNBQWtDLEVBQ3pDblMsT0FBT29TLHVCQUF5QixHQUVoQyxJQUFJbkcsUUFBVSxHQUdWb0csb0JBQXNCLEdBQ3RCQyxlQUFpQkMsSUFDbkIsSUFBSWpQLEVBQVFpUCxFQUFFckYsT0FBTzVKLE1BQ3JCMkksUUFBVXNHLEVBQUVyRixPQUFPZixRQUNuQmtHLG9CQUFvQnpTLEtBQUswRCxJQUUzQnRELE9BQU9nRixpQkFBaUIscUJBQXNCc04sZ0JBRTlDLElBQUlFLFNBQVcsS0FDYixJQUFJQyxLQUFPLElBQUlDLEtBQUtwQixVQUNwQm1CLEtBQUtFLEdBQUcsT0FBUSxLQUNkRixLQUFLRSxHQUFHLGFBQWM5QixhQUNwQjdRLE9BQU9vUyx1QkFBdUJ2QixXQUFhQSxXQUMzQ0EsV0FBVzhCLEdBQUcsUUFBUSxXQUVwQnBCLFFBQVFHLFVBQVksWUFHcEJiLFdBQVc4QixHQUFHLFFBQVEsU0FBU0MsTUFDN0IsR0FBa0IsU0FBZEEsS0FBS3BELEtBQWlCLENBQ3hCLElBQUljLE9BQVNDLFNBQVM1SSxjQUFjLFVBQ3BDMkksT0FBT3VDLGFBQWEsT0FBUSxtQkFDNUJ2QyxPQUFPRSxPQUFTLEtBQ2RGLE9BQU93QyxXQUFXQyxZQUFZekMsUUFHOUJ0USxPQUFPZ1Qsb0JBQ0wscUJBQ0FWLGdCQUVGRCxvQkFBb0J4USxRQUFReUIsSUFDMUIsSUFBSXdCLEVBQVEsSUFBSW1JLFlBQVkscUJBQXNCLENBQ2hEQyxPQUFRLENBQUU1SixNQUFPQSxFQUFPNkksUUFBU0YsV0FFbkNqTSxPQUFPc0MsY0FBY3dDLE1BR3pCd0wsT0FBT29CLFVBQVlrQixLQUFLdEMsUUFDdkJDLFNBQVNFLE1BQVFGLFNBQVNHLGlCQUFpQkMsWUFBWUwsUUFDeERBLE9BQU9FLFNBRVBJLHFCQUFxQkMsaUJBQ2hCLEdBQWtCLGtCQUFkK0IsS0FBS3BELEtBQTBCLENBQ3hDLElBQUlILE1BQVE0RCxLQUFLTCxLQUFLdEMsUUFDbEJzQyxLQUFLTSxZQUNQckMsV0FBV0csS0FBSyxDQUNkekwsT0FBUSxhQUNSOEosTUFBT0Esb0JBV3ZCZSxhQUNFLDhEQUNBb0MsVUFJSixHQUFJelMsVUFBVyxDQUNiLE1BQU1vVCxFQUFZLElBQUlDLGdCQUFnQnBULE9BQU9nUyxTQUFTcUIsUUFHbERGLEVBQVVHLElBQUksMkJBQ2hCMUIifQ==
